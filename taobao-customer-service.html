<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ˜¾å¡å®¢æœç³»ç»Ÿ - ä¸“ä¸šæ˜¾å¡å’¨è¯¢ | RTX 5080/5070/5060 æ˜¾å¡æœåŠ¡</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="æ˜¾å¡å®˜æ–¹å®¢æœç³»ç»Ÿï¼Œæä¾›RTX 5080 OCã€RTX 5070 Ti OCã€RTX 5060 OCç­‰æ˜¾å¡ä¸“ä¸šå’¨è¯¢æœåŠ¡ã€‚åœ¨çº¿å®¢æœï¼Œå®æ—¶è§£ç­”æ˜¾å¡æ€§èƒ½ã€ä»·æ ¼ã€ä¿ä¿®ç­‰é—®é¢˜ã€‚">
    <meta name="keywords" content="æ˜¾å¡,RTX 5080,RTX 5070,RTX 5060,æ˜¾å¡å®¢æœ,æ˜¾å¡å’¨è¯¢,æ¸¸æˆæ˜¾å¡,æ˜¾å¡å®¢æœ">
    <meta name="author" content="æ˜¾å¡å®˜æ–¹">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="æ˜¾å¡å®¢æœç³»ç»Ÿ - ä¸“ä¸šæ˜¾å¡å’¨è¯¢">
    <meta property="og:description" content="æ˜¾å¡å®˜æ–¹å®¢æœç³»ç»Ÿï¼Œæä¾›RTX 5080 OCã€RTX 5070 Ti OCã€RTX 5060 OCç­‰æ˜¾å¡ä¸“ä¸šå’¨è¯¢æœåŠ¡ã€‚">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://lihongmian.github.io/wanli-gpu-service/taobao-customer-service.html">
    <meta property="og:image" content="https://lihongmian.github.io/wanli-gpu-service/COMPANY_LOGO.png">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="æ˜¾å¡å®¢æœç³»ç»Ÿ">
    <meta name="twitter:description" content="æ˜¾å¡å®˜æ–¹å®¢æœç³»ç»Ÿï¼Œä¸“ä¸šæ˜¾å¡å’¨è¯¢æœåŠ¡">
    <meta name="twitter:image" content="COMPANY_LOGO.png">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://lihongmian.github.io/wanli-gpu-service/taobao-customer-service.html">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="COMPANY_LOGO.png">
    
    <!-- Structured Data (JSON-LD) -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Service",
        "name": "æ˜¾å¡å®¢æœç³»ç»Ÿ",
        "description": "æ˜¾å¡å®˜æ–¹å®¢æœç³»ç»Ÿï¼Œæä¾›RTX 5080 OCã€RTX 5070 Ti OCã€RTX 5060 OCç­‰æ˜¾å¡ä¸“ä¸šå’¨è¯¢æœåŠ¡",
        "provider": {
            "@type": "Organization",
            "name": "æ˜¾å¡å“ç‰Œ",
            "logo": "COMPANY_LOGO.png"
        },
        "serviceType": "æ˜¾å¡å’¨è¯¢æœåŠ¡",
        "areaServed": "ä¸­å›½",
        "availableLanguage": "zh-CN",
        "hoursAvailable": {
            "@type": "OpeningHoursSpecification",
            "dayOfWeek": ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"],
            "opens": "09:00",
            "closes": "22:00"
        },
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "CNY",
            "description": "å…è´¹æ˜¾å¡å’¨è¯¢æœåŠ¡"
        }
    }
    </script>
    
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Product",
        "name": "Gallardo RTX 5080 OC æ˜¾å¡",
        "description": "é«˜æ€§èƒ½æ¸¸æˆæ˜¾å¡ï¼Œ8GB GDDR6Xæ˜¾å­˜ï¼Œæ”¯æŒå…‰çº¿è¿½è¸ªå’ŒDLSS 3.0æŠ€æœ¯",
        "brand": {
            "@type": "Brand",
            "name": "æ˜¾å¡å“ç‰Œ"
        },
        "category": "æ˜¾å¡",
        "offers": {
            "@type": "Offer",
            "price": "8999",
            "priceCurrency": "CNY",
            "availability": "https://schema.org/InStock"
        }
    }
    </script>
    
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Product",
        "name": "White Gallardo RTX 5070 Ti OC æ˜¾å¡",
        "description": "ä¸­é«˜ç«¯æ¸¸æˆæ˜¾å¡ï¼Œ6GB GDDR6æ˜¾å­˜ï¼Œæ€§ä»·æ¯”æé«˜",
        "brand": {
            "@type": "Brand",
            "name": "æ˜¾å¡å“ç‰Œ"
        },
        "category": "æ˜¾å¡",
        "offers": {
            "@type": "Offer",
            "price": "5999",
            "priceCurrency": "CNY",
            "availability": "https://schema.org/InStock"
        }
    }
    </script>
    
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Product",
        "name": "Polar Fox RTX 5060 OC æ˜¾å¡",
        "description": "å…¥é—¨çº§æ¸¸æˆæ˜¾å¡ï¼Œ4GB GDDR6æ˜¾å­˜ï¼Œé€‚åˆ1080pæ¸¸æˆ",
        "brand": {
            "@type": "Brand",
            "name": "æ˜¾å¡å“ç‰Œ"
        },
        "category": "æ˜¾å¡",
        "offers": {
            "@type": "Offer",
            "price": "3999",
            "priceCurrency": "CNY",
            "availability": "https://schema.org/InStock"
        }
    }
    </script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "PingFang SC", "Microsoft YaHei", sans-serif;
        }
        
        body {
            background-color: #f5f5f5;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        
        .customer-service-container {
            width: 800px;
            height: 600px;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        
        .header {
            background-color: #FF5000;
            color: white;
            padding: 15px 20px;
            display: flex;
            align-items: center;
        }
        
        .header img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin-right: 15px;
        }
        
        .header-info h3 {
            font-size: 18px;
            margin-bottom: 3px;
        }
        
        .header-info p {
            font-size: 12px;
            opacity: 0.9;
        }
        
        .chat-container {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background-color: #f9f9f9;
        }
        
        .message {
            margin-bottom: 15px;
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            position: relative;
        }
        
        .message-row {
            display: flex;
            align-items: center;
            width: auto;
        }
        
        .message-row.customer {
            flex-direction: row-reverse;
        }
        
        .message-row.service {
            flex-direction: row;
        }
        
        .avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            margin: 0 8px;
            object-fit: cover;
            box-shadow: 0 1px 4px rgba(0,0,0,0.06);
            background: #fff;
        }
        
        .message-time {
            align-self: center;
            font-size: 12px;
            color: #999;
            margin-bottom: 10px;
        }
        
        .message-content {
            max-width: 70%;
            padding: 10px 15px;
            border-radius: 5px;
            position: relative;
            line-height: 1.5;
            word-wrap: break-word;
            display: inline-block;
            vertical-align: middle;
            max-width: 400px;
        }
        
        .customer {
            align-self: flex-end;
            background-color: #FF5000;
            color: white;
            border-top-right-radius: 0;
        }
        
        .service {
            align-self: flex-start;
            background-color: white;
            color: #333;
            border: 1px solid #eee;
            border-top-left-radius: 0;
        }
        
        .input-area {
            padding: 15px;
            border-top: 1px solid #eee;
            background-color: white;
            position: relative;
        }
        
        .input-row {
            display: flex;
            align-items: flex-end;
            gap: 10px;
        }
        
        .input-area textarea {
            flex: 1;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 10px;
            resize: none;
            height: 60px;
            outline: none;
            transition: border 0.3s;
        }
        
        .input-area textarea:focus {
            border-color: #FF5000;
        }
        
        .input-area .input-row button {
            width: 80px;
            background-color: #FF5000;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
            height: 60px;
        }
        
        .input-area .input-row button:hover {
            background-color: #FF6E36;
        }
        
        .quick-replies {
            display: flex;
            flex-wrap: wrap;
            margin-bottom: 10px;
            gap: 8px;
        }
        
        .quick-reply {
            background-color: white;
            border: 1px solid #ddd;
            border-radius: 15px;
            padding: 5px 12px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .quick-reply:hover {
            background-color: #FF5000;
            color: white;
            border-color: #FF5000;
        }
        
        .typing-indicator {
            display: flex;
            align-items: center;
            margin-left: 10px;
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .typing-indicator.visible {
            opacity: 1;
        }
        
        .typing-dot {
            width: 8px;
            height: 8px;
            background-color: #999;
            border-radius: 50%;
            margin: 0 2px;
            animation: typingAnimation 1.4s infinite ease-in-out;
        }
        
        .typing-dot:nth-child(1) {
            animation-delay: 0s;
        }
        
        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }
        
        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }
        
        @keyframes typingAnimation {
            0%, 60%, 100% {
                transform: translateY(0);
            }
            30% {
                transform: translateY(-5px);
            }
        }
        
        .product-card {
            width: 180px;
            height: 280px;
            border: 1px solid #eee;
            border-radius: 5px;
            overflow: hidden;
            margin-top: 10px;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            background: #fff;
            flex-shrink: 0;
        }
        
        .product-card img {
            width: 100%;
            height: 160px;
            object-fit: cover;
            background: #f7f7f7;
        }
        
        .product-info {
            flex: 1;
            padding: 10px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        
        .product-title {
            font-size: 14px;
            margin-bottom: 5px;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
            min-height: 38px;
        }
        
        .product-price {
            color: #FF5000;
            font-weight: bold;
            font-size: 16px;
        }
        
        .message-content.ai-reply {
            background: linear-gradient(90deg, #ffe0c7 0%, #fff7f0 100%);
            border: 1px solid #ffd6b3;
            color: #b85c00;
            position: relative;
        }
        .ai-label {
            display: inline-block;
            background: #FF5000;
            color: #fff;
            font-size: 10px;
            border-radius: 8px;
            padding: 1px 7px;
            margin-bottom: 3px;
            margin-right: 6px;
            vertical-align: middle;
        }
        .message-content.fade-in {
            animation: fadeIn 0.6s;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .input-area textarea {
            box-shadow: 0 2px 8px rgba(255,80,0,0.07);
        }
        .input-area {
            box-shadow: 0 -2px 8px rgba(255,80,0,0.04);
        }
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-thumb {
            background: #ffe0c7;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-track {
            background: #f9f9f9;
        }
        .emoji-picker {
            position: absolute;
            bottom: 85px;
            left: 15px;
            right: 15px;
            background: #fff;
            border: 1px solid #eee;
            border-radius: 10px;
            box-shadow: 0 2px 12px rgba(0,0,0,0.08);
            padding: 10px 12px;
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            z-index: 10;
        }
        .emoji-btn {
            font-size: 22px;
            background: none;
            border: none;
            cursor: pointer;
            margin: 0 2px;
            transition: transform 0.1s;
        }
        .emoji-btn:hover {
            transform: scale(1.2);
        }

        .header-avatar {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            margin-right: 18px;
            object-fit: cover;
            background: #fff;
            box-shadow: 0 1px 6px rgba(0,0,0,0.08);
        }
        .product-scroll-container {
            width: 380px;
            overflow-x: auto;
            margin: 0 auto;
            position: relative;
            padding-bottom: 18px;
            scrollbar-width: thin;
        }
        .product-scroll-inner {
            display: flex;
            gap: 20px;
            width: max-content;
        }
        .scroll-indicator {
            text-align: center;
            font-size: 13px;
            color: #bbb;
            margin-top: 2px;
        }
        .scroll-dots {
            display: flex;
            justify-content: center;
            gap: 6px;
        }
        .scroll-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #ddd;
            display: inline-block;
            transition: background 0.2s;
        }
        .scroll-dot.active {
            background: #FF5000;
        }
        
        /* æ–°å¢åŠŸèƒ½æ ·å¼ */
        .voice-message {
            display: flex;
            align-items: center;
            background: #f0f0f0;
            border-radius: 20px;
            padding: 8px 15px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .voice-message:hover {
            background: #e0e0e0;
        }
        
        .voice-icon {
            font-size: 18px;
            margin-right: 8px;
            color: #FF5000;
        }
        
        .voice-duration {
            font-size: 12px;
            color: #666;
        }
        
        .file-upload {
            display: flex;
            align-items: center;
            background: #f8f9fa;
            border: 2px dashed #ddd;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .file-upload:hover {
            border-color: #FF5000;
            background: #fff7f0;
        }
        
        .file-icon {
            font-size: 24px;
            margin-right: 10px;
            color: #FF5000;
        }
        
        .upload-text {
            color: #666;
            font-size: 14px;
        }
        
        .rating-container {
            display: flex;
            align-items: center;
            gap: 5px;
            margin-top: 10px;
        }
        
        .star {
            font-size: 20px;
            cursor: pointer;
            color: #ddd;
            transition: color 0.2s;
        }
        
        .star.active {
            color: #FFD700;
        }
        
        .star:hover {
            color: #FFD700;
        }
        
        .satisfaction-text {
            font-size: 12px;
            color: #666;
            margin-left: 10px;
        }
        
        .order-info {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border-left: 4px solid #FF5000;
        }
        
        .order-title {
            font-weight: bold;
            margin-bottom: 8px;
            color: #333;
        }
        
        .order-details {
            font-size: 13px;
            color: #666;
            line-height: 1.4;
        }
        
        .order-status {
            display: inline-block;
            background: #28a745;
            color: white;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 11px;
            margin-left: 8px;
        }
        
        .order-status.pending {
            background: #ffc107;
            color: #333;
        }
        
        .order-status.shipped {
            background: #17a2b8;
        }
        
        .order-status.delivered {
            background: #28a745;
        }
        
        .order-status.refund {
            background: #dc3545;
        }
        
        .input-tools {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 12px;
            flex-wrap: wrap;
        }
        
        .tool-btn {
            background: none;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 6px 10px;
            cursor: pointer;
            font-size: 13px;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 4px;
            white-space: nowrap;
        }
        
        .tool-btn:hover {
            border-color: #FF5000;
            color: #FF5000;
        }
        
        .tool-btn.active {
            background: #FF5000;
            color: white;
            border-color: #FF5000;
        }
        
        .voice-recording {
            background: #FF5000;
            color: white;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            animation: pulse 1.5s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        .hidden {
            display: none !important;
        }
        
        .message-actions {
            display: flex;
            gap: 5px;
            margin-top: 5px;
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .message:hover .message-actions {
            opacity: 1;
        }
        
        .action-btn {
            background: none;
            border: none;
            color: #999;
            font-size: 12px;
            cursor: pointer;
            padding: 2px 5px;
            border-radius: 3px;
            transition: all 0.2s;
        }
        
        .action-btn:hover {
            background: #f0f0f0;
            color: #FF5000;
        }
        
        .search-container {
            position: relative;
            margin-bottom: 15px;
        }
        
        .search-input {
            width: 100%;
            padding: 10px 15px;
            border: 1px solid #ddd;
            border-radius: 20px;
            outline: none;
            font-size: 14px;
        }
        
        .search-input:focus {
            border-color: #FF5000;
        }
        
        .search-results {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border: 1px solid #ddd;
            border-radius: 5px;
            max-height: 200px;
            overflow-y: auto;
            z-index: 100;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .search-result-item {
            padding: 10px 15px;
            cursor: pointer;
            border-bottom: 1px solid #f0f0f0;
        }
        
        .search-result-item:hover {
            background: #f8f9fa;
        }
        
        .search-result-item:last-child {
            border-bottom: none;
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #28a745;
            color: white;
            padding: 15px 20px;
            border-radius: 5px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            z-index: 1000;
            transform: translateX(100%);
            transition: transform 0.3s;
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .notification.error {
            background: #dc3545;
        }
        
        .notification.warning {
            background: #ffc107;
            color: #333;
        }
        
        .typing-status {
            font-size: 12px;
            color: #999;
            margin-left: 10px;
            font-style: italic;
        }
        
        .message-time {
            align-self: center;
            font-size: 12px;
            color: #999;
            margin-bottom: 10px;
            position: relative;
        }
        
        .message-time::before {
            content: '';
            position: absolute;
            left: -20px;
            right: -20px;
            top: 50%;
            height: 1px;
            background: #eee;
            z-index: -1;
        }
        
        .message-time span {
            background: #f9f9f9;
            padding: 0 10px;
        }
        
        /* å•†è¯¦å›¾ç‰‡å±•ç¤ºæ ·å¼ */
        .detail-images-container {
            margin-top: 15px;
            border-radius: 8px;
            overflow: hidden;
            background: #fff;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .detail-images-header {
            background: #FF5000;
            color: white;
            padding: 10px 15px;
            font-size: 14px;
            font-weight: bold;
        }
        
        .detail-images-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 10px;
            padding: 15px;
            max-height: 400px;
            overflow-y: auto;
        }
        
        .detail-image-item {
            position: relative;
            border-radius: 5px;
            overflow: hidden;
            cursor: pointer;
            transition: transform 0.2s;
        }
        
        .detail-image-item:hover {
            transform: scale(1.05);
        }
        
        .detail-image-item img {
            width: 100%;
            height: 120px;
            object-fit: cover;
            border-radius: 5px;
        }
        
        .detail-image-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(transparent, rgba(0,0,0,0.7));
            color: white;
            padding: 5px 8px;
            font-size: 11px;
            text-align: center;
        }
        
        .image-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.9);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s;
        }
        
        .image-modal.show {
            opacity: 1;
            visibility: visible;
        }
        
        .image-modal img {
            max-width: 90%;
            max-height: 90%;
            object-fit: contain;
            border-radius: 5px;
        }
        
        .image-modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            color: white;
            font-size: 30px;
            cursor: pointer;
            background: none;
            border: none;
        }
        
        .image-modal-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            color: white;
            font-size: 24px;
            cursor: pointer;
            background: rgba(0,0,0,0.5);
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .image-modal-prev {
            left: 20px;
        }
        
        .image-modal-next {
            right: 20px;
        }
        
        /* è¯„ä»·åŠŸèƒ½æ ·å¼ */
        .rating-header {
            margin-bottom: 15px;
        }
        
        .rating-header h4 {
            color: #FF5000;
            margin-bottom: 8px;
            font-size: 16px;
        }
        
        .rating-header p {
            color: #666;
            font-size: 14px;
            line-height: 1.4;
        }
        
        .rating-feedback {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #eee;
        }
        
        .rating-feedback textarea {
            width: 100%;
            min-height: 80px;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 10px;
            font-size: 14px;
            resize: vertical;
            outline: none;
            transition: border 0.3s;
            margin-bottom: 10px;
        }
        
        .rating-feedback textarea:focus {
            border-color: #FF5000;
        }
        
        .submit-feedback {
            background: #FF5000;
            color: white;
            border: none;
            border-radius: 5px;
            padding: 8px 16px;
            font-size: 14px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .submit-feedback:hover {
            background: #FF6E36;
        }
        
        .rating-success {
            text-align: center;
            padding: 20px;
        }
        
        .rating-success h4 {
            color: #28a745;
            margin-bottom: 10px;
            font-size: 18px;
        }
        
        .rating-success p {
            color: #666;
            margin-bottom: 8px;
            line-height: 1.5;
        }
        
        .satisfaction-rating {
            animation: slideInUp 0.5s ease-out;
        }
        
        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>
<body>
    <div class="customer-service-container">
        <div class="header">
            <img class="header-avatar" src="COMPANY_LOGO.png" alt="æ˜¾å¡å®¢æœå¤´åƒ">
            <div class="header-info">
                <h3>æ˜¾å¡å®¢æœ</h3>
                <p>åœ¨çº¿æ—¶é—´: 9:00-22:00</p>
            </div>
        </div>
        
        <div class="chat-container" id="chatContainer">
            <!-- èŠå¤©æ¶ˆæ¯å°†åœ¨è¿™é‡ŒåŠ¨æ€æ·»åŠ  -->
        </div>
        
        <div class="input-area">
            <div class="input-tools">
                <button id="voiceBtn" class="tool-btn" title="è¯­éŸ³æ¶ˆæ¯">
                    ğŸ¤ è¯­éŸ³
                </button>
                <button id="fileBtn" class="tool-btn" title="å‘é€æ–‡ä»¶">
                    ğŸ“ æ–‡ä»¶
                </button>
                <button id="imageBtn" class="tool-btn" title="å‘é€å›¾ç‰‡">
                    ğŸ–¼ï¸ å›¾ç‰‡
                </button>
                <button id="emojiToggleBtn" class="tool-btn" title="æ’å…¥è¡¨æƒ…">
                    ğŸ˜€ è¡¨æƒ…
                </button>
                <button id="orderBtn" class="tool-btn" title="æŸ¥è¯¢è®¢å•">
                    ğŸ“¦ è®¢å•
                </button>
            </div>
            
            <div class="input-row">
            <textarea id="messageInput" placeholder="è¯·è¾“å…¥æ‚¨çš„é—®é¢˜..."></textarea>
            <button id="sendButton">å‘é€</button>
            </div>
            
            <div id="emojiPicker" class="emoji-picker" style="display:none;"></div>
            
            <input type="file" id="fileInput" accept="image/*,.pdf,.doc,.docx" style="display:none;">
            <input type="file" id="imageInput" accept="image/*" style="display:none;">
        </div>
    </div>
    
    <!-- å›¾ç‰‡æ¨¡æ€æ¡† -->
    <div id="imageModal" class="image-modal">
        <button class="image-modal-close" onclick="closeImageModal()">Ã—</button>
        <button class="image-modal-nav image-modal-prev" onclick="prevImage()">â€¹</button>
        <button class="image-modal-nav image-modal-next" onclick="nextImage()">â€º</button>
        <img id="modalImage" src="" alt="äº§å“è¯¦æƒ…å›¾ç‰‡">
    </div>
    
    <!-- SEO éšè—å†…å®¹ -->
    <div style="position: absolute; left: -9999px; top: -9999px;">
        <h1>æ˜¾å¡å®¢æœç³»ç»Ÿ</h1>
        <h2>RTX 5080 OC æ˜¾å¡å’¨è¯¢æœåŠ¡</h2>
        <h2>RTX 5070 Ti OC æ˜¾å¡å’¨è¯¢æœåŠ¡</h2>
        <h2>RTX 5060 OC æ˜¾å¡å’¨è¯¢æœåŠ¡</h2>
        <p>æ˜¾å¡å®˜æ–¹å®¢æœç³»ç»Ÿæä¾›ä¸“ä¸šçš„æ˜¾å¡å’¨è¯¢æœåŠ¡ï¼ŒåŒ…æ‹¬RTX 5080 OCã€RTX 5070 Ti OCã€RTX 5060 OCç­‰æ˜¾å¡çš„æ€§èƒ½å’¨è¯¢ã€ä»·æ ¼æŸ¥è¯¢ã€ä¿ä¿®æœåŠ¡ç­‰ã€‚æˆ‘ä»¬çš„å®¢æœå›¢é˜Ÿä¸“ä¸šè§£ç­”æ˜¾å¡ç›¸å…³é—®é¢˜ï¼Œä¸ºæ¸¸æˆç©å®¶å’Œç”µè„‘çˆ±å¥½è€…æä¾›æœ€ä¼˜è´¨çš„æœåŠ¡ã€‚</p>
        <p>æ˜¾å¡å®¢æœç³»ç»Ÿç‰¹è‰²åŠŸèƒ½ï¼šåœ¨çº¿å®æ—¶å’¨è¯¢ã€äº§å“è¯¦æƒ…å±•ç¤ºã€å›¾ç‰‡æŸ¥çœ‹ã€è¯­éŸ³æ¶ˆæ¯ã€æ–‡ä»¶ä¸Šä¼ ã€æ»¡æ„åº¦è¯„ä»·ç­‰ã€‚æ”¯æŒå¤šç§äº¤äº’æ–¹å¼ï¼Œæä¾›å…¨æ–¹ä½çš„æ˜¾å¡å’¨è¯¢æœåŠ¡ã€‚</p>
        <p>æ˜¾å¡äº§å“åŒ…æ‹¬ï¼šRTX 5080 OC é«˜æ€§èƒ½æ¸¸æˆæ˜¾å¡ã€RTX 5070 Ti OC ä¸­é«˜ç«¯æ¸¸æˆæ˜¾å¡ã€RTX 5060 OC å…¥é—¨çº§æ¸¸æˆæ˜¾å¡ã€‚æ‰€æœ‰äº§å“å‡æä¾›3å¹´è´¨ä¿ï¼Œå…¨å›½è”ä¿æœåŠ¡ã€‚</p>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const chatContainer = document.getElementById('chatContainer');
            const messageInput = document.getElementById('messageInput');
            const sendButton = document.getElementById('sendButton');
            const emojiToggleBtn = document.getElementById('emojiToggleBtn');
            const emojiPicker = document.getElementById('emojiPicker');
            const voiceBtn = document.getElementById('voiceBtn');
            const fileBtn = document.getElementById('fileBtn');
            const imageBtn = document.getElementById('imageBtn');
            const orderBtn = document.getElementById('orderBtn');
            const fileInput = document.getElementById('fileInput');
            const imageInput = document.getElementById('imageInput');
            
            // æ–°å¢åŠŸèƒ½çŠ¶æ€
            let isRecording = false;
            let recordingStartTime = null;
            
            // å¯¹è¯æ´»åŠ¨è·Ÿè¸ª
            let lastActivityTime = Date.now();
            let satisfactionTimer = null;
            let hasShownSatisfaction = false;
            
            // æ˜¾å¡è®¢å•æ•°æ®
            const orders = [
                {
                    id: "WL123456789",
                    status: "delivered",
                    items: ["Gallardo RTX 5080 OC æ˜¾å¡"],
                    total: "Â¥8999.00",
                    date: "2024-01-15"
                },
                {
                    id: "WL987654321", 
                    status: "shipped",
                    items: ["White Gallardo RTX 5070 Ti OC æ˜¾å¡"],
                    total: "Â¥5999.00",
                    date: "2024-01-20"
                },
                {
                    id: "WL555666777",
                    status: "pending",
                    items: ["Polar Fox RTX 5060 OC æ˜¾å¡"],
                    total: "Â¥3999.00",
                    date: "2024-01-22"
                }
            ];
            
            // æ˜¾å¡äº§å“çŸ¥è¯†åº“
            const knowledgeBase = {
                "ä½ å¥½": ["æ‚¨å¥½ï¼æ˜¾å¡å®¢æœä¸ºæ‚¨æœåŠ¡ï¼Œè¯·é—®æœ‰ä»€ä¹ˆå¯ä»¥å¸®æ‚¨ï¼ŸğŸ˜Š", "æœ‰ä»€ä¹ˆå¯ä»¥å¸®æ‚¨çš„å—ï¼ŸğŸ‘‹"],
                "æ˜¾å¡": ["æ˜¾å¡æ˜¯ä¸“ä¸šçš„æ˜¾å¡å“ç‰Œï¼Œä¸“æ³¨äºé«˜æ€§èƒ½æ¸¸æˆæ˜¾å¡çš„ç ”å‘å’Œç”Ÿäº§ã€‚æˆ‘ä»¬æä¾›RTX 5080ã€5070 Tiã€5060ç­‰å¤šæ¬¾äº§å“ã€‚ğŸ®", "æ˜¾å¡ä»¥ä¼˜ç§€çš„æ•£çƒ­æ€§èƒ½å’Œç¨³å®šçš„è¶…é¢‘èƒ½åŠ›è‘—ç§°ï¼Œæ˜¯æ¸¸æˆç©å®¶çš„ç†æƒ³é€‰æ‹©ã€‚"],
                "5080": ["Gallardo RTX 5080 OC æ˜¯æˆ‘ä»¬çš„æ——èˆ°äº§å“ï¼Œé‡‡ç”¨æœ€æ–°çš„RTX 5080æ ¸å¿ƒï¼Œ8GB GDDR6Xæ˜¾å­˜ï¼Œæ”¯æŒå…‰çº¿è¿½è¸ªå’ŒDLSS 3.0æŠ€æœ¯ã€‚ğŸ¯", "RTX 5080 OC é€‚åˆ4Kæ¸¸æˆå’Œå†…å®¹åˆ›ä½œï¼Œæ€§èƒ½å¼ºåŠ²ï¼Œæ•£çƒ­ä¼˜ç§€ã€‚"],
                "5070": ["White Gallardo RTX 5070 Ti OC æ˜¯ä¸­é«˜ç«¯æ¸¸æˆæ˜¾å¡ï¼Œ6GB GDDR6æ˜¾å­˜ï¼Œæ€§ä»·æ¯”æé«˜ã€‚ğŸ®", "RTX 5070 Ti OC é€‚åˆ2Kæ¸¸æˆï¼Œæ€§èƒ½ç¨³å®šï¼Œä»·æ ¼å®æƒ ã€‚"],
                "5060": ["Polar Fox RTX 5060 OC æ˜¯å…¥é—¨çº§æ¸¸æˆæ˜¾å¡ï¼Œ4GB GDDR6æ˜¾å­˜ï¼Œé€‚åˆ1080pæ¸¸æˆã€‚ğŸ’»", "RTX 5060 OC æ€§ä»·æ¯”æé«˜ï¼Œæ˜¯é¢„ç®—æœ‰é™ç©å®¶çš„æœ€ä½³é€‰æ‹©ã€‚"],
                "è¯¦æƒ…": ["ç‚¹å‡»äº§å“å¡ç‰‡å¯ä»¥æŸ¥çœ‹è¯¦ç»†çš„äº§å“å‚æ•°å’Œå›¾ç‰‡ã€‚ğŸ“¸", "æˆ‘å¯ä»¥ä¸ºæ‚¨å±•ç¤ºäº§å“çš„è¯¦ç»†è§„æ ¼å’Œå®æ‹å›¾ç‰‡ã€‚"],
                "å›¾ç‰‡": ["æ¯ä¸ªäº§å“éƒ½æœ‰è¯¦ç»†çš„äº§å“å›¾ç‰‡ï¼Œç‚¹å‡»äº§å“å¡ç‰‡å³å¯æŸ¥çœ‹ã€‚ğŸ–¼ï¸", "äº§å“å›¾ç‰‡åŒ…å«å¤–è§‚ã€æ¥å£ã€æ•£çƒ­å™¨ç­‰è¯¦ç»†ä¿¡æ¯ã€‚"],
                "è¯„ä»·": ["æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼å¯¹è¯ç»“æŸåç³»ç»Ÿä¼šè‡ªåŠ¨é‚€è¯·æ‚¨è¯„ä»·æœåŠ¡ã€‚ğŸ’¬", "æ‚¨çš„è¯„ä»·å¯¹æˆ‘ä»¬å¾ˆé‡è¦ï¼Œå¸®åŠ©æˆ‘ä»¬æä¾›æ›´å¥½çš„æœåŠ¡ã€‚"],
                "ä»·æ ¼": ["æ˜¾å¡ä»·æ ¼ï¼šRTX 5080 OC Â¥8999ï¼ŒRTX 5070 Ti OC Â¥5999ï¼ŒRTX 5060 OC Â¥3999ã€‚ğŸ’°", "æˆ‘ä»¬æä¾›åˆ†æœŸä»˜æ¬¾å’Œå¤šç§ä¼˜æƒ æ´»åŠ¨ï¼Œè¯¦æƒ…è¯·å’¨è¯¢å®¢æœã€‚"],
                "æ€§èƒ½": ["æ˜¾å¡é‡‡ç”¨å…ˆè¿›çš„æ•£çƒ­æŠ€æœ¯ï¼Œç¡®ä¿é•¿æ—¶é—´æ¸¸æˆç¨³å®šè¿è¡Œã€‚ğŸ”¥", "æˆ‘ä»¬çš„æ˜¾å¡éƒ½ç»è¿‡ä¸¥æ ¼æµ‹è¯•ï¼Œæ”¯æŒè¶…é¢‘ï¼Œæ€§èƒ½å¼ºåŠ²å¯é ã€‚"],
                "ä¿ä¿®": ["æ˜¾å¡æä¾›3å¹´è´¨ä¿ï¼Œå…¨å›½è”ä¿æœåŠ¡ã€‚ğŸ›¡ï¸", "å¦‚æœ‰è´¨é‡é—®é¢˜ï¼Œæˆ‘ä»¬æä¾›å…è´¹ç»´ä¿®æˆ–æ›´æ¢æœåŠ¡ã€‚"],
                "ç‰©æµ": ["æˆ‘ä»¬çš„æ˜¾å¡ä¸€èˆ¬ä¼šåœ¨ä¸‹å•å1-3ä¸ªå·¥ä½œæ—¥å†…å‘è´§ï¼Œç‰©æµæ—¶é—´å¤§çº¦3-5å¤©ã€‚ğŸšš", "æ‚¨å¯ä»¥åœ¨è®¢å•è¯¦æƒ…ä¸­æŸ¥çœ‹ç‰©æµä¿¡æ¯ï¼Œå¦‚æœ‰å¼‚å¸¸è¯·å‘Šè¯‰æˆ‘ä»¬ã€‚ğŸ“¦"],
                "é€€è´§": ["å¦‚éœ€é€€è´§ï¼Œè¯·åœ¨æ”¶åˆ°å•†å“7å¤©å†…ç”³è¯·ï¼Œå•†å“éœ€ä¿æŒå®Œå¥½ã€‚ğŸ”„", "é€€è´§æµç¨‹ï¼šæˆ‘çš„æ·˜å®-å·²ä¹°åˆ°çš„å®è´-ç”³è¯·å”®å-é€‰æ‹©é€€è´§é€€æ¬¾ã€‚"],
                "é€€æ¬¾": ["é€€æ¬¾ä¼šåœ¨é€€è´§å•†å“éªŒæ”¶å1-3ä¸ªå·¥ä½œæ—¥å†…å¤„ç†å®Œæˆã€‚ğŸ’°", "é€€æ¬¾å°†åŸè·¯è¿”å›åˆ°æ‚¨çš„æ”¯ä»˜è´¦æˆ·ã€‚"],
                "ä¼˜æƒ ": ["618æ´»åŠ¨æœŸé—´ï¼Œæ˜¾å¡å…¨åœº8æŠ˜ä¼˜æƒ ï¼ğŸ‰", "å…³æ³¨åº—é“ºå¯é¢†å–100å…ƒä¼˜æƒ åˆ¸ï¼Œæ–°ç”¨æˆ·è¿˜æœ‰é¢å¤–æŠ˜æ‰£ã€‚ğŸ"],
                "æ”¯ä»˜": ["æˆ‘ä»¬æ”¯æŒæ”¯ä»˜å®ã€å¾®ä¿¡æ”¯ä»˜å’Œé“¶è¡Œå¡æ”¯ä»˜ã€‚ğŸ’³", "æ”¯ä»˜é‡åˆ°é—®é¢˜ï¼Ÿè¯·æ£€æŸ¥ç½‘ç»œæˆ–å°è¯•æ›´æ¢æ”¯ä»˜æ–¹å¼ã€‚"],
                "è´¨é‡": ["æ˜¾å¡éƒ½ç»è¿‡ä¸¥æ ¼è´¨æ£€ï¼Œé‡‡ç”¨ä¼˜è´¨å…ƒå™¨ä»¶ï¼Œç¡®ä¿ç¨³å®šå¯é ã€‚âœ”ï¸", "è¯·æ”¾å¿ƒè´­ä¹°ï¼Œæ‰€æœ‰æ˜¾å¡éƒ½æœ‰è´¨é‡ä¿éšœå’Œ3å¹´ä¿ä¿®ã€‚"],
                "è°¢è°¢": ["ä¸å®¢æ°”ï¼Œè¿™æ˜¯æˆ‘ä»¬åº”è¯¥åšçš„ï¼ğŸ˜Š", "æ„Ÿè°¢æ‚¨é€‰æ‹©æ˜¾å¡ï¼Œç¥æ‚¨æ¸¸æˆæ„‰å¿«ï¼ğŸ‰"],
                "é»˜è®¤": ["æŠ±æ­‰ï¼Œæˆ‘æ²¡æœ‰ç†è§£æ‚¨çš„é—®é¢˜ï¼Œæ‚¨å¯ä»¥è¯¢é—®å…³äºæ˜¾å¡çš„å…·ä½“ä¿¡æ¯å—ï¼ŸğŸ¤”", "è¿™ä¸ªé—®é¢˜æˆ‘éœ€è¦æŸ¥è¯¢ä¸€ä¸‹ï¼Œè¯·ç¨ç­‰...âŒ›"]
            };
            
                        // æ˜¾å¡å¸¸è§é—®é¢˜å¿«æ·å›å¤
            const quickReplies = [
                "RTX 5080æ€§èƒ½",
                "RTX 5070 Tiä»·æ ¼",
                "RTX 5060æ€§ä»·æ¯”",
                "618ä¼˜æƒ æ´»åŠ¨",
                "ä¿ä¿®æ”¿ç­–",
                "æ•£çƒ­æ€§èƒ½"
            ];
            
            // æ˜¾å¡äº§å“æ•°æ®
            const products = [
                {
                    id: 1,
                    title: "Gallardo RTX 5080 OC æ˜¾å¡",
                    price: "Â¥8999.00",
                    image: "PRODUCT_IMAGES/RTX5080_MAIN.jpg",
                    category: "æ˜¾å¡",
                    brand: "æ˜¾å¡å“ç‰Œ",
                    model: "RTX 5080 OC",
                    features: ["é«˜æ€§èƒ½æ¸¸æˆæ˜¾å¡", "8GB GDDR6Xæ˜¾å­˜", "å…‰çº¿è¿½è¸ªæŠ€æœ¯", "DLSS 3.0æ”¯æŒ"],
                    detailImages: [
                        "PRODUCT_IMAGES/RTX5080_DETAIL_01.jpg",
                        "PRODUCT_IMAGES/RTX5080_DETAIL_02.jpg",
                        "PRODUCT_IMAGES/RTX5080_DETAIL_03.jpg",
                        "PRODUCT_IMAGES/RTX5080_DETAIL_04.jpg",
                        "PRODUCT_IMAGES/RTX5080_DETAIL_05.jpg",
                        "PRODUCT_IMAGES/RTX5080_DETAIL_06.jpg",
                        "PRODUCT_IMAGES/RTX5080_DETAIL_07.jpg",
                        "PRODUCT_IMAGES/RTX5080_DETAIL_08.jpg",
                        "PRODUCT_IMAGES/RTX5080_DETAIL_09.jpg",
                        "PRODUCT_IMAGES/RTX5080_DETAIL_10.jpg"
                    ]
                },
                {
                    id: 2,
                    title: "White Gallardo RTX 5070 Ti OC æ˜¾å¡",
                    price: "Â¥5999.00",
                    image: "PRODUCT_IMAGES/RTX5070TI_MAIN.jpg",
                    category: "æ˜¾å¡",
                    brand: "æ˜¾å¡å“ç‰Œ",
                    model: "RTX 5070 Ti OC",
                    features: ["ä¸­é«˜ç«¯æ¸¸æˆæ˜¾å¡", "6GB GDDR6æ˜¾å­˜", "å…‰çº¿è¿½è¸ªæŠ€æœ¯", "DLSS 2.0æ”¯æŒ"],
                    detailImages: [
                        "PRODUCT_IMAGES/RTX5070TI_DETAIL_01.jpg",
                        "PRODUCT_IMAGES/RTX5070TI_DETAIL_02.jpg",
                        "PRODUCT_IMAGES/RTX5070TI_DETAIL_03.jpg",
                        "PRODUCT_IMAGES/RTX5070TI_DETAIL_04.jpg",
                        "PRODUCT_IMAGES/RTX5070TI_DETAIL_05.jpg",
                        "PRODUCT_IMAGES/RTX5070TI_DETAIL_06.jpg",
                        "PRODUCT_IMAGES/RTX5070TI_DETAIL_07.jpg",
                        "PRODUCT_IMAGES/RTX5070TI_DETAIL_08.jpg",
                        "PRODUCT_IMAGES/RTX5070TI_DETAIL_09.jpg",
                        "PRODUCT_IMAGES/RTX5070TI_DETAIL_10.jpg"
                    ]
                },
                {
                    id: 3,
                    title: "Polar Fox RTX 5060 OC æ˜¾å¡",
                    price: "Â¥3999.00",
                    image: "PRODUCT_IMAGES/RTX5060_MAIN.jpg",
                    category: "æ˜¾å¡",
                    brand: "æ˜¾å¡å“ç‰Œ",
                    model: "RTX 5060 OC",
                    features: ["å…¥é—¨çº§æ¸¸æˆæ˜¾å¡", "4GB GDDR6æ˜¾å­˜", "æ€§ä»·æ¯”ä¹‹é€‰", "é€‚åˆ1080pæ¸¸æˆ"],
                    detailImages: [
                        "PRODUCT_IMAGES/RTX5060_DETAIL_01.jpg",
                        "PRODUCT_IMAGES/RTX5060_DETAIL_02.jpg",
                        "PRODUCT_IMAGES/RTX5060_DETAIL_03.jpg",
                        "PRODUCT_IMAGES/RTX5060_DETAIL_04.jpg",
                        "PRODUCT_IMAGES/RTX5060_DETAIL_05.jpg",
                        "PRODUCT_IMAGES/RTX5060_DETAIL_06.jpg",
                        "PRODUCT_IMAGES/RTX5060_DETAIL_07.jpg",
                        "PRODUCT_IMAGES/RTX5060_DETAIL_08.jpg",
                        "PRODUCT_IMAGES/RTX5060_DETAIL_09.jpg",
                        "PRODUCT_IMAGES/RTX5060_DETAIL_10.jpg"
                    ]
                }
            ];
            
            // ä¸Šä¸‹æ–‡è®°å¿†ï¼Œæœ€å¤šä¿ç•™5è½®
            const chatHistory = [];
            
            // åˆå§‹åŒ–èŠå¤© - å®¢æœæ¬¢è¿è¯­
            setTimeout(() => {
                addMessage("service", "æ‚¨å¥½ï¼æ˜¾å¡å®¢æœä¸ºæ‚¨æœåŠ¡ï¼Œè¯·é—®æœ‰ä»€ä¹ˆå¯ä»¥å¸®æ‚¨ï¼Ÿ");
                showQuickReplies();
            }, 500);
            
            // å‘é€æ¶ˆæ¯å‡½æ•°
            async function sendMessage() {
                const message = messageInput.value.trim();
                if (message) {
                    addMessage("customer", message);
                    updateActivityTime(); // æ›´æ–°æ´»åŠ¨æ—¶é—´
                    // è®°å½•åˆ°ä¸Šä¸‹æ–‡
                    chatHistory.push({ role: "user", content: message });
                    if (chatHistory.length > 10) chatHistory.splice(0, chatHistory.length - 10); // 5è½®=10æ¡
                    messageInput.value = "";
                    
                    // æ˜¾ç¤º"æ­£åœ¨è¾“å…¥"æŒ‡ç¤ºå™¨
                    const typingIndicator = document.createElement('div');
                    typingIndicator.className = 'message';
                    typingIndicator.innerHTML = `
                        <div class="message-content service fade-in">
                            <div class="typing-indicator visible">
                                <div class="typing-dot"></div>
                                <div class="typing-dot"></div>
                                <div class="typing-dot"></div>
                            </div>
                        </div>
                    `;
                    chatContainer.appendChild(typingIndicator);
                    chatContainer.scrollTop = chatContainer.scrollHeight;
                    
                    setTimeout(async () => {
                        const { reply, isDefault } = getAutoReply(message);
                        let finalReply = reply;
                        let isAI = false;
                        if (isDefault) {
                            // ç”¨ DeepSeek API è·å–æ™ºèƒ½å›å¤
                            finalReply = await fetchDeepSeekReply(chatHistory);
                            isAI = true;
                        }
                        chatContainer.removeChild(typingIndicator);
                        addMessage("service", finalReply, isAI);
                        updateActivityTime(); // æ›´æ–°æ´»åŠ¨æ—¶é—´
                        if (isAI) {
                            chatHistory.push({ role: "assistant", content: finalReply });
                            if (chatHistory.length > 10) chatHistory.splice(0, chatHistory.length - 10);
                        }
                        if (message.includes("æ¨è") || message.includes("æ˜¾å¡") || message.includes("ä¹°ä»€ä¹ˆ") || message.includes("æ˜¾å¡")) {
                            setTimeout(() => {
                                showRecommendedProducts();
                            }, 800);
                        }
                        showQuickReplies();
                    }, 1500);
                }
            }
            
            // æ·»åŠ æ¶ˆæ¯åˆ°èŠå¤©çª—å£
            function addMessage(sender, content, isAI = false, type = 'text') {
                const now = new Date();
                const timeString = `${now.getHours()}:${now.getMinutes().toString().padStart(2, '0')}`;
                
                const messageElement = document.createElement('div');
                messageElement.className = 'message';
                // å¤´åƒ
                let avatarUrl = '';
                if (sender === 'customer') {
                    avatarUrl = 'https://avatars.githubusercontent.com/u/583231?v=4'; // ç”¨æˆ·é»˜è®¤å¤´åƒï¼ˆå¯ç”¨ï¼‰
                } else {
                    avatarUrl = 'COMPANY_LOGO.png'; // æ˜¾å¡å®¢æœå¤´åƒ
                }
                // æ°”æ³¡æ ·å¼
                let bubbleClass = `message-content ${sender} fade-in`;
                let label = '';
                if (sender === 'service' && isAI) {
                    bubbleClass += ' ai-reply';
                    label = '<span class="ai-label">AIæ™ºèƒ½å®¢æœ</span>';
                }
                
                let contentHtml = content;
                if (type === 'voice') {
                    contentHtml = `
                        <div class="voice-message">
                            <span class="voice-icon">ğŸ”Š</span>
                            <span class="voice-duration">0:15</span>
                        </div>
                    `;
                } else if (type === 'file') {
                    contentHtml = `
                        <div class="file-upload">
                            <span class="file-icon">ğŸ“</span>
                            <span class="upload-text">${content}</span>
                        </div>
                    `;
                } else if (type === 'image') {
                    contentHtml = `<img src="${content}" style="max-width: 200px; border-radius: 5px;" alt="å›¾ç‰‡">`;
                }
                
                messageElement.innerHTML = `
                    <div class="message-time"><span>${timeString}</span></div>
                    <div class="message-row ${sender}">
                        <img class="avatar" src="${avatarUrl}" alt="å¤´åƒ">
                        <div class="${bubbleClass}">${label}${contentHtml}</div>
                    </div>
                    <div class="message-actions">
                        <button class="action-btn" onclick="copyMessage(this)">å¤åˆ¶</button>
                        <button class="action-btn" onclick="deleteMessage(this)">åˆ é™¤</button>
                    </div>
                `;
                
                chatContainer.appendChild(messageElement);
                chatContainer.scrollTop = chatContainer.scrollHeight;
            }
            
            // å¤åˆ¶æ¶ˆæ¯
            window.copyMessage = function(btn) {
                const messageContent = btn.closest('.message').querySelector('.message-content');
                const text = messageContent.textContent || messageContent.innerText;
                navigator.clipboard.writeText(text).then(() => {
                    showNotification('æ¶ˆæ¯å·²å¤åˆ¶åˆ°å‰ªè´´æ¿', 'success');
                });
            };
            
            // åˆ é™¤æ¶ˆæ¯
            window.deleteMessage = function(btn) {
                if (confirm('ç¡®å®šè¦åˆ é™¤è¿™æ¡æ¶ˆæ¯å—ï¼Ÿ')) {
                    btn.closest('.message').remove();
                }
            };
            
            // æ›´æ–°å¯¹è¯æ´»åŠ¨æ—¶é—´
            function updateActivityTime() {
                lastActivityTime = Date.now();
                
                // æ¸…é™¤ä¹‹å‰çš„æ»¡æ„åº¦è®¡æ—¶å™¨
                if (satisfactionTimer) {
                    clearTimeout(satisfactionTimer);
                }
                
                // å¦‚æœè¿˜æ²¡æ˜¾ç¤ºè¿‡æ»¡æ„åº¦è¯„ä»·ï¼Œè®¾ç½®æ–°çš„è®¡æ—¶å™¨
                if (!hasShownSatisfaction) {
                    satisfactionTimer = setTimeout(() => {
                        console.log('5åˆ†é’Ÿæ— æ´»åŠ¨ï¼Œæ˜¾ç¤ºæ»¡æ„åº¦è¯„ä»·');
                        showSatisfactionRating();
                        hasShownSatisfaction = true;
                    }, 5 * 60 * 1000); // 5åˆ†é’Ÿ
                }
            }
            
            // æ˜¾ç¤ºé€šçŸ¥
            function showNotification(message, type = 'success') {
                const notification = document.createElement('div');
                notification.className = `notification ${type}`;
                notification.textContent = message;
                document.body.appendChild(notification);
                
                setTimeout(() => {
                    notification.classList.add('show');
                }, 100);
                
                setTimeout(() => {
                    notification.classList.remove('show');
                    setTimeout(() => {
                        document.body.removeChild(notification);
                    }, 300);
                }, 3000);
            }
            
            // è·å–è‡ªåŠ¨å›å¤
            function getAutoReply(message) {
                for (const keyword in knowledgeBase) {
                    if (message.includes(keyword)) {
                        const replies = knowledgeBase[keyword];
                        return { reply: replies[Math.floor(Math.random() * replies.length)], isDefault: false };
                    }
                }
                if (message.includes("å•†å“") || message.includes("äº§å“")) {
                    return { reply: "æ‚¨æƒ³äº†è§£å“ªæ¬¾å•†å“å‘¢ï¼Ÿæˆ‘å¯ä»¥ä¸ºæ‚¨è¯¦ç»†ä»‹ç»ã€‚", isDefault: false };
                }
                const defaultReplies = knowledgeBase["é»˜è®¤"];
                return { reply: defaultReplies[Math.floor(Math.random() * defaultReplies.length)], isDefault: true };
            }
            
            // è°ƒç”¨ DeepSeek API è·å–æ™ºèƒ½å›å¤ï¼ˆä¸­æ–‡ï¼‰ï¼Œå¸¦ä¸Šä¸‹æ–‡
            async function fetchDeepSeekReply(history) {
                const apiKey = "YOUR_DEEPSEEK_API_KEY"; // è¯·æ›¿æ¢ä¸ºæ‚¨çš„APIå¯†é’¥
                const url = "https://api.deepseek.com/v1/chat/completions";
                const headers = {
                    "Content-Type": "application/json",
                    "Authorization": `Bearer ${apiKey}`
                };
                // æ„é€  messagesï¼Œå‰ç½® system prompt
                const messages = [
                    { role: "system", content: "ä½ æ˜¯æ˜¾å¡çš„ä¸“ä¸šå®¢æœï¼Œä¸“é—¨å›ç­”å…³äºæ˜¾å¡äº§å“çš„é—®é¢˜ã€‚æ˜¯ä¸“ä¸šçš„æ˜¾å¡å“ç‰Œï¼Œä¸»è¦äº§å“åŒ…æ‹¬RTX 5080 OCã€RTX 5070 Ti OCã€RTX 5060 OCç­‰ã€‚è¯·ç”¨ç®€ä½“ä¸­æ–‡ä¸“ä¸šã€å‹å¥½åœ°å›å¤ç”¨æˆ·é—®é¢˜ã€‚" },
                    ...history.slice(-10) // æœ€å¤š5è½®
                ];
                const body = JSON.stringify({
                    model: "deepseek-chat",
                    messages,
                    temperature: 0.7
                });
                try {
                    const response = await fetch(url, {
                        method: "POST",
                        headers,
                        body
                    });
                    if (!response.ok) {
                        return "æŠ±æ­‰ï¼ŒAIå®¢æœæš‚æ—¶æ— æ³•å›å¤æ‚¨çš„é—®é¢˜ã€‚";
                    }
                    const data = await response.json();
                    if (data && data.choices && data.choices[0] && data.choices[0].message && data.choices[0].message.content) {
                        return data.choices[0].message.content.trim();
                    }
                    return "æŠ±æ­‰ï¼ŒAIå®¢æœæš‚æ—¶æ— æ³•å›å¤æ‚¨çš„é—®é¢˜ã€‚";
                } catch (e) {
                    return "æŠ±æ­‰ï¼ŒAIå®¢æœæš‚æ—¶æ— æ³•å›å¤æ‚¨çš„é—®é¢˜ã€‚";
                }
            }
            
            // æ˜¾ç¤ºå¿«æ·å›å¤æŒ‰é’®
            function showQuickReplies() {
                const quickRepliesContainer = document.createElement('div');
                quickRepliesContainer.className = 'quick-replies';
                
                quickReplies.forEach(reply => {
                    const button = document.createElement('div');
                    button.className = 'quick-reply';
                    button.textContent = reply;
                    button.addEventListener('click', () => {
                        addMessage("customer", reply);
                        updateActivityTime(); // æ›´æ–°æ´»åŠ¨æ—¶é—´
                        // æ¨¡æ‹Ÿå®¢æœå›å¤
                        setTimeout(() => {
                            const response = getAutoReply(reply).reply;
                            addMessage("service", response);
                            updateActivityTime(); // æ›´æ–°æ´»åŠ¨æ—¶é—´
                            // å¦‚æœæ˜¯æ€§èƒ½ç›¸å…³é—®é¢˜ï¼Œæ˜¾ç¤ºè¯¦ç»†å‚æ•°
                            if (reply.includes("æ€§èƒ½")) {
                                setTimeout(() => {
                                    addMessage("service", "æ˜¾å¡é‡‡ç”¨å…ˆè¿›çš„æ•£çƒ­æŠ€æœ¯ï¼Œç¡®ä¿é•¿æ—¶é—´æ¸¸æˆç¨³å®šè¿è¡Œã€‚æ‰€æœ‰æ˜¾å¡éƒ½ç»è¿‡ä¸¥æ ¼æµ‹è¯•ï¼Œæ”¯æŒè¶…é¢‘ï¼Œæ€§èƒ½å¼ºåŠ²å¯é ã€‚");
                                    updateActivityTime(); // æ›´æ–°æ´»åŠ¨æ—¶é—´
                                }, 800);
                            }
                            showQuickReplies();
                        }, 1000);
                    });
                    quickRepliesContainer.appendChild(button);
                });
                // å…ˆç§»é™¤æ—§çš„å¿«æ·å›å¤ï¼ˆå¦‚æœæœ‰ï¼‰
                const oldQuickReplies = document.querySelector('.quick-replies');
                if (oldQuickReplies) {
                    chatContainer.removeChild(oldQuickReplies);
                }
                chatContainer.appendChild(quickRepliesContainer);
                chatContainer.scrollTop = chatContainer.scrollHeight;
            }
            
            // æ˜¾ç¤ºæ¨èå•†å“
            function showRecommendedProducts() {
                const productsContainer = document.createElement('div');
                productsContainer.className = 'message';
                // æ¨ªå‘æ»šåŠ¨åŒº
                const scrollContainer = document.createElement('div');
                scrollContainer.className = 'product-scroll-container';
                const scrollInner = document.createElement('div');
                scrollInner.className = 'product-scroll-inner';
                // å•†å“å¡ç‰‡
                products.forEach(product => {
                    const card = document.createElement('div');
                    card.className = 'product-card';
                    card.onclick = () => showProductDetails(product);
                    card.innerHTML = `
                        <img src="${product.image}" alt="${product.title}">
                        <div class="product-info">
                            <div class="product-title">${product.title}</div>
                            <div class="product-price">${product.price}</div>
                        </div>
                    `;
                    scrollInner.appendChild(card);
                });
                scrollContainer.appendChild(scrollInner);
                // å°åœ†ç‚¹æŒ‡ç¤ºå™¨
                const dotsCount = Math.max(1, Math.ceil(products.length / 2));
                const indicator = document.createElement('div');
                indicator.className = 'scroll-indicator';
                const dots = document.createElement('div');
                dots.className = 'scroll-dots';
                for (let i = 0; i < dotsCount; i++) {
                    const dot = document.createElement('span');
                    dot.className = 'scroll-dot' + (i === 0 ? ' active' : '');
                    dots.appendChild(dot);
                }
                indicator.appendChild(dots);
                scrollContainer.appendChild(indicator);
                // æ»šåŠ¨äº‹ä»¶ï¼šé«˜äº®å½“å‰é¡µ
                scrollContainer.addEventListener('scroll', function() {
                    const scrollLeft = scrollContainer.scrollLeft;
                    const pageWidth = 200; // 180+gap
                    const page = Math.round(scrollLeft / pageWidth);
                    Array.from(dots.children).forEach((dot, idx) => {
                        dot.classList.toggle('active', idx === page);
                    });
                });
                // å¤–å±‚æ¶ˆæ¯å†…å®¹
                productsContainer.innerHTML = `
                    <div class="message-content service">
                        <p>ä¸ºæ‚¨æ¨èä»¥ä¸‹æ˜¾å¡äº§å“ï¼š</p>
                    </div>
                `;
                productsContainer.querySelector('.message-content').appendChild(scrollContainer);
                chatContainer.appendChild(productsContainer);
                chatContainer.scrollTop = chatContainer.scrollHeight;
            }
            
            // æ˜¾ç¤ºäº§å“è¯¦æƒ…å›¾ç‰‡
            function showProductDetails(product) {
                const detailContainer = document.createElement('div');
                detailContainer.className = 'message';
                detailContainer.innerHTML = `
                    <div class="message-content service">
                        <p><strong>${product.title}</strong> è¯¦ç»†å‚æ•°ï¼š</p>
                        <div class="detail-images-container">
                            <div class="detail-images-header">
                                ğŸ“¸ äº§å“è¯¦æƒ…å›¾ç‰‡ (${product.detailImages.length}å¼ )
                            </div>
                            <div class="detail-images-grid">
                                ${product.detailImages.map((img, index) => `
                                    <div class="detail-image-item" onclick="openImageModal('${img}', ${index}, ${product.id})">
                                        <img src="${img}" alt="è¯¦æƒ…å›¾ç‰‡${index + 1}">
                                        <div class="detail-image-overlay">å›¾ç‰‡${index + 1}</div>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    </div>
                `;
                chatContainer.appendChild(detailContainer);
                chatContainer.scrollTop = chatContainer.scrollHeight;
            }
            
            // æ˜¾ç¤ºè®¢å•ä¿¡æ¯
            function showOrders() {
                orders.forEach(order => {
                    const orderElement = document.createElement('div');
                    orderElement.className = 'message';
                    orderElement.innerHTML = `
                        <div class="message-content service">
                            <div class="order-info">
                                <div class="order-title">
                                    è®¢å•å·ï¼š${order.id}
                                    <span class="order-status ${order.status}">
                                        ${getStatusText(order.status)}
                                    </span>
                                </div>
                                <div class="order-details">
                                    <div>å•†å“ï¼š${order.items.join('ã€')}</div>
                                    <div>æ€»é‡‘é¢ï¼š${order.total}</div>
                                    <div>ä¸‹å•æ—¶é—´ï¼š${order.date}</div>
                                </div>
                            </div>
                        </div>
                    `;
                    chatContainer.appendChild(orderElement);
                });
                chatContainer.scrollTop = chatContainer.scrollHeight;
            }
            
            // è·å–è®¢å•çŠ¶æ€æ–‡æœ¬
            function getStatusText(status) {
                const statusMap = {
                    'pending': 'å¾…å‘è´§',
                    'shipped': 'å·²å‘è´§',
                    'delivered': 'å·²é€è¾¾',
                    'refund': 'é€€æ¬¾ä¸­'
                };
                return statusMap[status] || 'æœªçŸ¥çŠ¶æ€';
            }
            
            // æ˜¾ç¤ºæ»¡æ„åº¦è¯„ä»·
            function showSatisfactionRating() {
                // é˜²æ­¢é‡å¤æ˜¾ç¤º
                if (document.querySelector('.satisfaction-rating')) {
                    return;
                }
                
                const ratingElement = document.createElement('div');
                ratingElement.className = 'message satisfaction-rating';
                ratingElement.innerHTML = `
                    <div class="message-content service">
                        <div class="rating-header">
                            <h4>ğŸ’¬ æœåŠ¡è¯„ä»·</h4>
                            <p>æ„Ÿè°¢æ‚¨ä½¿ç”¨æ˜¾å¡å®¢æœï¼Œè¯·ä¸ºæœ¬æ¬¡æœåŠ¡è¯„åˆ†ï¼š</p>
                        </div>
                        <div class="rating-container">
                            <span class="star" data-rating="1">â­</span>
                            <span class="star" data-rating="2">â­</span>
                            <span class="star" data-rating="3">â­</span>
                            <span class="star" data-rating="4">â­</span>
                            <span class="star" data-rating="5">â­</span>
                            <span class="satisfaction-text">ç‚¹å‡»æ˜Ÿæ˜Ÿè¯„åˆ†</span>
                        </div>
                        <div class="rating-feedback" style="display: none;">
                            <textarea placeholder="è¯·ç•™ä¸‹æ‚¨çš„å®è´µæ„è§ï¼ˆå¯é€‰ï¼‰..." maxlength="200"></textarea>
                            <button class="submit-feedback">æäº¤è¯„ä»·</button>
                        </div>
                    </div>
                `;
                chatContainer.appendChild(ratingElement);
                chatContainer.scrollTop = chatContainer.scrollHeight;
                
                // ç»‘å®šè¯„åˆ†äº‹ä»¶
                const stars = ratingElement.querySelectorAll('.star');
                const feedbackDiv = ratingElement.querySelector('.rating-feedback');
                const submitBtn = ratingElement.querySelector('.submit-feedback');
                
                stars.forEach(star => {
                    star.addEventListener('click', function() {
                        const rating = this.dataset.rating;
                        stars.forEach(s => s.classList.remove('active'));
                        for (let i = 0; i < rating; i++) {
                            stars[i].classList.add('active');
                        }
                        const text = ratingElement.querySelector('.satisfaction-text');
                        text.textContent = `æ„Ÿè°¢æ‚¨çš„${rating}æ˜Ÿè¯„ä»·ï¼`;
                        
                        // æ˜¾ç¤ºåé¦ˆè¾“å…¥æ¡†
                        feedbackDiv.style.display = 'block';
                        
                        // ä¿å­˜è¯„åˆ†
                        window.currentRating = rating;
                    });
                });
                
                // æäº¤è¯„ä»·
                submitBtn.addEventListener('click', function() {
                    const feedback = feedbackDiv.querySelector('textarea').value;
                    const rating = window.currentRating || 5;
                    
                    // è¿™é‡Œå¯ä»¥å‘é€è¯„ä»·æ•°æ®åˆ°æœåŠ¡å™¨
                    console.log('è¯„ä»·æäº¤:', { rating, feedback });
                    
                    // æ˜¾ç¤ºæ„Ÿè°¢ä¿¡æ¯
                    ratingElement.innerHTML = `
                        <div class="message-content service">
                            <div class="rating-success">
                                <h4>ğŸ‰ æ„Ÿè°¢æ‚¨çš„è¯„ä»·ï¼</h4>
                                <p>æ‚¨çš„${rating}æ˜Ÿè¯„ä»·å¯¹æˆ‘ä»¬å¾ˆé‡è¦ï¼Œæˆ‘ä»¬ä¼šç»§ç»­åŠªåŠ›æä¾›æ›´å¥½çš„æœåŠ¡ã€‚</p>
                                <p>å¦‚æœ‰å…¶ä»–é—®é¢˜ï¼Œéšæ—¶è”ç³»æˆ‘ä»¬ï¼</p>
                            </div>
                        </div>
                    `;
                    
                    showNotification('è¯„ä»·æäº¤æˆåŠŸï¼Œæ„Ÿè°¢æ‚¨çš„åé¦ˆï¼', 'success');
                });
            }
            
            // Emoji åˆ—è¡¨
            const emojiList = ["ğŸ˜‚", "ğŸ˜", "ğŸ‘", "ğŸ˜Š", "ğŸ˜­", "ğŸ˜¡", "ğŸ‘", "ğŸ‰", "ğŸ¥°", "ğŸ¤”", "ğŸ˜", "ğŸ˜…", "ğŸ™Œ", "ğŸ’°", "ğŸ’³", "ğŸ“¦", "ğŸšš", "âœ”ï¸", "ğŸ", "ğŸ”„", "âŒ›", "ğŸ‘‹"];
            
            // æ¸²æŸ“ Emoji é¢æ¿
            function renderEmojiPicker() {
                emojiPicker.innerHTML = '';
                emojiList.forEach(emoji => {
                    const btn = document.createElement('button');
                    btn.className = 'emoji-btn';
                    btn.type = 'button';
                    btn.textContent = emoji;
                    btn.addEventListener('click', () => {
                        insertAtCursor(messageInput, emoji);
                        emojiPicker.style.display = 'none';
                        messageInput.focus();
                    });
                    emojiPicker.appendChild(btn);
                });
            }
            
            // æ’å…¥è¡¨æƒ…åˆ°å…‰æ ‡å¤„
            function insertAtCursor(input, text) {
                const start = input.selectionStart;
                const end = input.selectionEnd;
                const value = input.value;
                input.value = value.substring(0, start) + text + value.substring(end);
                input.selectionStart = input.selectionEnd = start + text.length;
            }
            
            // è¯­éŸ³å½•åˆ¶åŠŸèƒ½
            voiceBtn.addEventListener('click', function() {
                if (!isRecording) {
                    // å¼€å§‹å½•éŸ³
                    isRecording = true;
                    recordingStartTime = Date.now();
                    voiceBtn.innerHTML = '<div class="voice-recording">â¹ï¸</div>';
                    voiceBtn.classList.add('active');
                    showNotification('å¼€å§‹å½•éŸ³ï¼Œå†æ¬¡ç‚¹å‡»åœæ­¢', 'warning');
                } else {
                    // åœæ­¢å½•éŸ³
                    isRecording = false;
                    const duration = Math.floor((Date.now() - recordingStartTime) / 1000);
                    voiceBtn.innerHTML = 'ğŸ¤ è¯­éŸ³';
                    voiceBtn.classList.remove('active');
                    addMessage('customer', '', false, 'voice');
                    updateActivityTime(); // æ›´æ–°æ´»åŠ¨æ—¶é—´
                    showNotification(`å½•éŸ³å®Œæˆï¼Œæ—¶é•¿ ${duration} ç§’`, 'success');
                }
            });
            
            // æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½
            fileBtn.addEventListener('click', function() {
                fileInput.click();
            });
            
            fileInput.addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (file) {
                    addMessage('customer', file.name, false, 'file');
                    updateActivityTime(); // æ›´æ–°æ´»åŠ¨æ—¶é—´
                    showNotification('æ–‡ä»¶ä¸Šä¼ æˆåŠŸ', 'success');
                }
            });
            
            // å›¾ç‰‡ä¸Šä¼ åŠŸèƒ½
            imageBtn.addEventListener('click', function() {
                imageInput.click();
            });
            
            imageInput.addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        addMessage('customer', e.target.result, false, 'image');
                        updateActivityTime(); // æ›´æ–°æ´»åŠ¨æ—¶é—´
                        showNotification('å›¾ç‰‡ä¸Šä¼ æˆåŠŸ', 'success');
                    };
                    reader.readAsDataURL(file);
                }
            });
            
            // è®¢å•æŸ¥è¯¢åŠŸèƒ½
            orderBtn.addEventListener('click', function() {
                addMessage('customer', 'æŸ¥è¯¢æˆ‘çš„è®¢å•');
                updateActivityTime(); // æ›´æ–°æ´»åŠ¨æ—¶é—´
                setTimeout(() => {
                    addMessage('service', 'ä¸ºæ‚¨æŸ¥è¯¢è®¢å•ä¿¡æ¯ï¼š');
                    updateActivityTime(); // æ›´æ–°æ´»åŠ¨æ—¶é—´
                    showOrders();
                }, 1000);
            });
            
            // äº‹ä»¶ï¼šç‚¹å‡»ğŸ˜€æŒ‰é’®
            emojiToggleBtn.addEventListener('click', function(e) {
                e.stopPropagation();
                if (emojiPicker.style.display === 'none') {
                    renderEmojiPicker();
                    emojiPicker.style.display = 'flex';
                } else {
                    emojiPicker.style.display = 'none';
                }
            });
            // ç‚¹å‡»é¡µé¢å…¶å®ƒåœ°æ–¹å…³é—­ Emoji é¢æ¿
            document.addEventListener('click', function(e) {
                if (!emojiPicker.contains(e.target) && e.target !== emojiToggleBtn) {
                    emojiPicker.style.display = 'none';
                }
            });
            
            // äº‹ä»¶ç›‘å¬
            sendButton.addEventListener('click', sendMessage);
            
            messageInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    sendMessage();
                }
            });
            
            // åˆå§‹åŒ–å¯¹è¯æ´»åŠ¨æ—¶é—´
            updateActivityTime();
            
            // æ·»åŠ æµ‹è¯•è¯„ä»·åŠŸèƒ½ï¼ˆå¼€å‘ç”¨ï¼Œå¯ä»¥åˆ é™¤ï¼‰
            window.testRating = function() {
                showSatisfactionRating();
            };
        });
        
        // å›¾ç‰‡æ¨¡æ€æ¡†ç›¸å…³å˜é‡
        let currentImages = [];
        let currentImageIndex = 0;
        let currentProductId = 0;
        
        // æ‰“å¼€å›¾ç‰‡æ¨¡æ€æ¡†
        window.openImageModal = function(imageSrc, index, productId) {
            const product = products.find(p => p.id === productId);
            if (product) {
                currentImages = product.detailImages;
                currentImageIndex = index;
                currentProductId = productId;
                
                const modal = document.getElementById('imageModal');
                const modalImage = document.getElementById('modalImage');
                modalImage.src = imageSrc;
                modal.classList.add('show');
            }
        };
        
        // å…³é—­å›¾ç‰‡æ¨¡æ€æ¡†
        window.closeImageModal = function() {
            const modal = document.getElementById('imageModal');
            modal.classList.remove('show');
        };
        
        // ä¸Šä¸€å¼ å›¾ç‰‡
        window.prevImage = function() {
            if (currentImages.length > 0) {
                currentImageIndex = (currentImageIndex - 1 + currentImages.length) % currentImages.length;
                const modalImage = document.getElementById('modalImage');
                modalImage.src = currentImages[currentImageIndex];
            }
        };
        
        // ä¸‹ä¸€å¼ å›¾ç‰‡
        window.nextImage = function() {
            if (currentImages.length > 0) {
                currentImageIndex = (currentImageIndex + 1) % currentImages.length;
                const modalImage = document.getElementById('modalImage');
                modalImage.src = currentImages[currentImageIndex];
            }
        };
        
        // ç‚¹å‡»æ¨¡æ€æ¡†èƒŒæ™¯å…³é—­
        document.getElementById('imageModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeImageModal();
            }
        });
        
        // ESCé”®å…³é—­æ¨¡æ€æ¡†
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeImageModal();
            }
        });
        
        // SEO ä¼˜åŒ–ï¼šé¡µé¢åŠ è½½å®Œæˆåçš„å¤„ç†
        window.addEventListener('load', function() {
            // å‘é€é¡µé¢æµè§ˆæ•°æ®ï¼ˆå¯é€‰ï¼‰
            console.log('æ˜¾å¡å®¢æœç³»ç»Ÿé¡µé¢åŠ è½½å®Œæˆ');
            
            // é¢„åŠ è½½é‡è¦å›¾ç‰‡
            const preloadImages = [
                'COMPANY_LOGO.png',
                'PRODUCT_IMAGES/RTX5080_MAIN.jpg',
                'PRODUCT_IMAGES/RTX5070TI_MAIN.jpg',
                'PRODUCT_IMAGES/RTX5060_MAIN.jpg'
            ];
            
            preloadImages.forEach(src => {
                const img = new Image();
                img.src = src;
            });
        });
        
        // æ·»åŠ ç»“æ„åŒ–æ•°æ®æ›´æ–°
        function updateStructuredData() {
            // è¿™é‡Œå¯ä»¥åŠ¨æ€æ›´æ–°ç»“æ„åŒ–æ•°æ®
            console.log('ç»“æ„åŒ–æ•°æ®å·²æ›´æ–°');
        }
    </script>
</body>
</html>