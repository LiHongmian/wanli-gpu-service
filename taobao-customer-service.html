<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>显卡客服系统 - 专业显卡咨询 | RTX 5080/5070/5060 显卡服务</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="显卡官方客服系统，提供RTX 5080 OC、RTX 5070 Ti OC、RTX 5060 OC等显卡专业咨询服务。在线客服，实时解答显卡性能、价格、保修等问题。">
    <meta name="keywords" content="显卡,RTX 5080,RTX 5070,RTX 5060,显卡客服,显卡咨询,游戏显卡,显卡客服">
    <meta name="author" content="显卡官方">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="显卡客服系统 - 专业显卡咨询">
    <meta property="og:description" content="显卡官方客服系统，提供RTX 5080 OC、RTX 5070 Ti OC、RTX 5060 OC等显卡专业咨询服务。">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://lihongmian.github.io/wanli-gpu-service/taobao-customer-service.html">
    <meta property="og:image" content="https://lihongmian.github.io/wanli-gpu-service/COMPANY_LOGO.png">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="显卡客服系统">
    <meta name="twitter:description" content="显卡官方客服系统，专业显卡咨询服务">
    <meta name="twitter:image" content="COMPANY_LOGO.png">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://lihongmian.github.io/wanli-gpu-service/taobao-customer-service.html">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="COMPANY_LOGO.png">
    
    <!-- Structured Data (JSON-LD) -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Service",
        "name": "显卡客服系统",
        "description": "显卡官方客服系统，提供RTX 5080 OC、RTX 5070 Ti OC、RTX 5060 OC等显卡专业咨询服务",
        "provider": {
            "@type": "Organization",
            "name": "显卡品牌",
            "logo": "COMPANY_LOGO.png"
        },
        "serviceType": "显卡咨询服务",
        "areaServed": "中国",
        "availableLanguage": "zh-CN",
        "hoursAvailable": {
            "@type": "OpeningHoursSpecification",
            "dayOfWeek": ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"],
            "opens": "09:00",
            "closes": "22:00"
        },
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "CNY",
            "description": "免费显卡咨询服务"
        }
    }
    </script>
    
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Product",
        "name": "Gallardo RTX 5080 OC 显卡",
        "description": "高性能游戏显卡，8GB GDDR6X显存，支持光线追踪和DLSS 3.0技术",
        "brand": {
            "@type": "Brand",
            "name": "显卡品牌"
        },
        "category": "显卡",
        "offers": {
            "@type": "Offer",
            "price": "8999",
            "priceCurrency": "CNY",
            "availability": "https://schema.org/InStock"
        }
    }
    </script>
    
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Product",
        "name": "White Gallardo RTX 5070 Ti OC 显卡",
        "description": "中高端游戏显卡，6GB GDDR6显存，性价比极高",
        "brand": {
            "@type": "Brand",
            "name": "显卡品牌"
        },
        "category": "显卡",
        "offers": {
            "@type": "Offer",
            "price": "5999",
            "priceCurrency": "CNY",
            "availability": "https://schema.org/InStock"
        }
    }
    </script>
    
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Product",
        "name": "Polar Fox RTX 5060 OC 显卡",
        "description": "入门级游戏显卡，4GB GDDR6显存，适合1080p游戏",
        "brand": {
            "@type": "Brand",
            "name": "显卡品牌"
        },
        "category": "显卡",
        "offers": {
            "@type": "Offer",
            "price": "3999",
            "priceCurrency": "CNY",
            "availability": "https://schema.org/InStock"
        }
    }
    </script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "PingFang SC", "Microsoft YaHei", sans-serif;
        }
        
        body {
            background-color: #f5f5f5;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        
        .customer-service-container {
            width: 800px;
            height: 600px;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        
        .header {
            background-color: #FF5000;
            color: white;
            padding: 15px 20px;
            display: flex;
            align-items: center;
        }
        
        .header img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin-right: 15px;
        }
        
        .header-info h3 {
            font-size: 18px;
            margin-bottom: 3px;
        }
        
        .header-info p {
            font-size: 12px;
            opacity: 0.9;
        }
        
        .chat-container {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background-color: #f9f9f9;
        }
        
        .message {
            margin-bottom: 15px;
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            position: relative;
        }
        
        .message-row {
            display: flex;
            align-items: center;
            width: auto;
        }
        
        .message-row.customer {
            flex-direction: row-reverse;
        }
        
        .message-row.service {
            flex-direction: row;
        }
        
        .avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            margin: 0 8px;
            object-fit: cover;
            box-shadow: 0 1px 4px rgba(0,0,0,0.06);
            background: #fff;
        }
        
        .message-time {
            align-self: center;
            font-size: 12px;
            color: #999;
            margin-bottom: 10px;
        }
        
        .message-content {
            max-width: 70%;
            padding: 10px 15px;
            border-radius: 5px;
            position: relative;
            line-height: 1.5;
            word-wrap: break-word;
            display: inline-block;
            vertical-align: middle;
            max-width: 400px;
        }
        
        .customer {
            align-self: flex-end;
            background-color: #FF5000;
            color: white;
            border-top-right-radius: 0;
        }
        
        .service {
            align-self: flex-start;
            background-color: white;
            color: #333;
            border: 1px solid #eee;
            border-top-left-radius: 0;
        }
        
        .input-area {
            padding: 15px;
            border-top: 1px solid #eee;
            background-color: white;
            position: relative;
        }
        
        .input-row {
            display: flex;
            align-items: flex-end;
            gap: 10px;
        }
        
        .input-area textarea {
            flex: 1;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 10px;
            resize: none;
            height: 60px;
            outline: none;
            transition: border 0.3s;
        }
        
        .input-area textarea:focus {
            border-color: #FF5000;
        }
        
        .input-area .input-row button {
            width: 80px;
            background-color: #FF5000;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
            height: 60px;
        }
        
        .input-area .input-row button:hover {
            background-color: #FF6E36;
        }
        
        .quick-replies {
            display: flex;
            flex-wrap: wrap;
            margin-bottom: 10px;
            gap: 8px;
        }
        
        .quick-reply {
            background-color: white;
            border: 1px solid #ddd;
            border-radius: 15px;
            padding: 5px 12px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .quick-reply:hover {
            background-color: #FF5000;
            color: white;
            border-color: #FF5000;
        }
        
        .typing-indicator {
            display: flex;
            align-items: center;
            margin-left: 10px;
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .typing-indicator.visible {
            opacity: 1;
        }
        
        .typing-dot {
            width: 8px;
            height: 8px;
            background-color: #999;
            border-radius: 50%;
            margin: 0 2px;
            animation: typingAnimation 1.4s infinite ease-in-out;
        }
        
        .typing-dot:nth-child(1) {
            animation-delay: 0s;
        }
        
        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }
        
        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }
        
        @keyframes typingAnimation {
            0%, 60%, 100% {
                transform: translateY(0);
            }
            30% {
                transform: translateY(-5px);
            }
        }
        
        .product-card {
            width: 180px;
            height: 280px;
            border: 1px solid #eee;
            border-radius: 5px;
            overflow: hidden;
            margin-top: 10px;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            background: #fff;
            flex-shrink: 0;
        }
        
        .product-card img {
            width: 100%;
            height: 160px;
            object-fit: cover;
            background: #f7f7f7;
        }
        
        .product-info {
            flex: 1;
            padding: 10px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        
        .product-title {
            font-size: 14px;
            margin-bottom: 5px;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
            min-height: 38px;
        }
        
        .product-price {
            color: #FF5000;
            font-weight: bold;
            font-size: 16px;
        }
        
        .message-content.ai-reply {
            background: linear-gradient(90deg, #ffe0c7 0%, #fff7f0 100%);
            border: 1px solid #ffd6b3;
            color: #b85c00;
            position: relative;
        }
        .ai-label {
            display: inline-block;
            background: #FF5000;
            color: #fff;
            font-size: 10px;
            border-radius: 8px;
            padding: 1px 7px;
            margin-bottom: 3px;
            margin-right: 6px;
            vertical-align: middle;
        }
        .message-content.fade-in {
            animation: fadeIn 0.6s;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .input-area textarea {
            box-shadow: 0 2px 8px rgba(255,80,0,0.07);
        }
        .input-area {
            box-shadow: 0 -2px 8px rgba(255,80,0,0.04);
        }
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-thumb {
            background: #ffe0c7;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-track {
            background: #f9f9f9;
        }
        .emoji-picker {
            position: absolute;
            bottom: 85px;
            left: 15px;
            right: 15px;
            background: #fff;
            border: 1px solid #eee;
            border-radius: 10px;
            box-shadow: 0 2px 12px rgba(0,0,0,0.08);
            padding: 10px 12px;
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            z-index: 10;
        }
        .emoji-btn {
            font-size: 22px;
            background: none;
            border: none;
            cursor: pointer;
            margin: 0 2px;
            transition: transform 0.1s;
        }
        .emoji-btn:hover {
            transform: scale(1.2);
        }

        .header-avatar {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            margin-right: 18px;
            object-fit: cover;
            background: #fff;
            box-shadow: 0 1px 6px rgba(0,0,0,0.08);
        }
        .product-scroll-container {
            width: 380px;
            overflow-x: auto;
            margin: 0 auto;
            position: relative;
            padding-bottom: 18px;
            scrollbar-width: thin;
        }
        .product-scroll-inner {
            display: flex;
            gap: 20px;
            width: max-content;
        }
        .scroll-indicator {
            text-align: center;
            font-size: 13px;
            color: #bbb;
            margin-top: 2px;
        }
        .scroll-dots {
            display: flex;
            justify-content: center;
            gap: 6px;
        }
        .scroll-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #ddd;
            display: inline-block;
            transition: background 0.2s;
        }
        .scroll-dot.active {
            background: #FF5000;
        }
        
        /* 新增功能样式 */
        .voice-message {
            display: flex;
            align-items: center;
            background: #f0f0f0;
            border-radius: 20px;
            padding: 8px 15px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .voice-message:hover {
            background: #e0e0e0;
        }
        
        .voice-icon {
            font-size: 18px;
            margin-right: 8px;
            color: #FF5000;
        }
        
        .voice-duration {
            font-size: 12px;
            color: #666;
        }
        
        .file-upload {
            display: flex;
            align-items: center;
            background: #f8f9fa;
            border: 2px dashed #ddd;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .file-upload:hover {
            border-color: #FF5000;
            background: #fff7f0;
        }
        
        .file-icon {
            font-size: 24px;
            margin-right: 10px;
            color: #FF5000;
        }
        
        .upload-text {
            color: #666;
            font-size: 14px;
        }
        
        .rating-container {
            display: flex;
            align-items: center;
            gap: 5px;
            margin-top: 10px;
        }
        
        .star {
            font-size: 20px;
            cursor: pointer;
            color: #ddd;
            transition: color 0.2s;
        }
        
        .star.active {
            color: #FFD700;
        }
        
        .star:hover {
            color: #FFD700;
        }
        
        .satisfaction-text {
            font-size: 12px;
            color: #666;
            margin-left: 10px;
        }
        
        .order-info {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border-left: 4px solid #FF5000;
        }
        
        .order-title {
            font-weight: bold;
            margin-bottom: 8px;
            color: #333;
        }
        
        .order-details {
            font-size: 13px;
            color: #666;
            line-height: 1.4;
        }
        
        .order-status {
            display: inline-block;
            background: #28a745;
            color: white;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 11px;
            margin-left: 8px;
        }
        
        .order-status.pending {
            background: #ffc107;
            color: #333;
        }
        
        .order-status.shipped {
            background: #17a2b8;
        }
        
        .order-status.delivered {
            background: #28a745;
        }
        
        .order-status.refund {
            background: #dc3545;
        }
        
        .input-tools {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 12px;
            flex-wrap: wrap;
        }
        
        .tool-btn {
            background: none;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 6px 10px;
            cursor: pointer;
            font-size: 13px;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 4px;
            white-space: nowrap;
        }
        
        .tool-btn:hover {
            border-color: #FF5000;
            color: #FF5000;
        }
        
        .tool-btn.active {
            background: #FF5000;
            color: white;
            border-color: #FF5000;
        }
        
        .voice-recording {
            background: #FF5000;
            color: white;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            animation: pulse 1.5s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        .hidden {
            display: none !important;
        }
        
        .message-actions {
            display: flex;
            gap: 5px;
            margin-top: 5px;
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .message:hover .message-actions {
            opacity: 1;
        }
        
        .action-btn {
            background: none;
            border: none;
            color: #999;
            font-size: 12px;
            cursor: pointer;
            padding: 2px 5px;
            border-radius: 3px;
            transition: all 0.2s;
        }
        
        .action-btn:hover {
            background: #f0f0f0;
            color: #FF5000;
        }
        
        .search-container {
            position: relative;
            margin-bottom: 15px;
        }
        
        .search-input {
            width: 100%;
            padding: 10px 15px;
            border: 1px solid #ddd;
            border-radius: 20px;
            outline: none;
            font-size: 14px;
        }
        
        .search-input:focus {
            border-color: #FF5000;
        }
        
        .search-results {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border: 1px solid #ddd;
            border-radius: 5px;
            max-height: 200px;
            overflow-y: auto;
            z-index: 100;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .search-result-item {
            padding: 10px 15px;
            cursor: pointer;
            border-bottom: 1px solid #f0f0f0;
        }
        
        .search-result-item:hover {
            background: #f8f9fa;
        }
        
        .search-result-item:last-child {
            border-bottom: none;
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #28a745;
            color: white;
            padding: 15px 20px;
            border-radius: 5px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            z-index: 1000;
            transform: translateX(100%);
            transition: transform 0.3s;
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .notification.error {
            background: #dc3545;
        }
        
        .notification.warning {
            background: #ffc107;
            color: #333;
        }
        
        .typing-status {
            font-size: 12px;
            color: #999;
            margin-left: 10px;
            font-style: italic;
        }
        
        .message-time {
            align-self: center;
            font-size: 12px;
            color: #999;
            margin-bottom: 10px;
            position: relative;
        }
        
        .message-time::before {
            content: '';
            position: absolute;
            left: -20px;
            right: -20px;
            top: 50%;
            height: 1px;
            background: #eee;
            z-index: -1;
        }
        
        .message-time span {
            background: #f9f9f9;
            padding: 0 10px;
        }
        
        /* 商详图片展示样式 */
        .detail-images-container {
            margin-top: 15px;
            border-radius: 8px;
            overflow: hidden;
            background: #fff;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .detail-images-header {
            background: #FF5000;
            color: white;
            padding: 10px 15px;
            font-size: 14px;
            font-weight: bold;
        }
        
        .detail-images-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 10px;
            padding: 15px;
            max-height: 400px;
            overflow-y: auto;
        }
        
        .detail-image-item {
            position: relative;
            border-radius: 5px;
            overflow: hidden;
            cursor: pointer;
            transition: transform 0.2s;
        }
        
        .detail-image-item:hover {
            transform: scale(1.05);
        }
        
        .detail-image-item img {
            width: 100%;
            height: 120px;
            object-fit: cover;
            border-radius: 5px;
        }
        
        .detail-image-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(transparent, rgba(0,0,0,0.7));
            color: white;
            padding: 5px 8px;
            font-size: 11px;
            text-align: center;
        }
        
        .image-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.9);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s;
        }
        
        .image-modal.show {
            opacity: 1;
            visibility: visible;
        }
        
        .image-modal img {
            max-width: 90%;
            max-height: 90%;
            object-fit: contain;
            border-radius: 5px;
        }
        
        .image-modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            color: white;
            font-size: 30px;
            cursor: pointer;
            background: none;
            border: none;
        }
        
        .image-modal-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            color: white;
            font-size: 24px;
            cursor: pointer;
            background: rgba(0,0,0,0.5);
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .image-modal-prev {
            left: 20px;
        }
        
        .image-modal-next {
            right: 20px;
        }
        
        /* 评价功能样式 */
        .rating-header {
            margin-bottom: 15px;
        }
        
        .rating-header h4 {
            color: #FF5000;
            margin-bottom: 8px;
            font-size: 16px;
        }
        
        .rating-header p {
            color: #666;
            font-size: 14px;
            line-height: 1.4;
        }
        
        .rating-feedback {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #eee;
        }
        
        .rating-feedback textarea {
            width: 100%;
            min-height: 80px;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 10px;
            font-size: 14px;
            resize: vertical;
            outline: none;
            transition: border 0.3s;
            margin-bottom: 10px;
        }
        
        .rating-feedback textarea:focus {
            border-color: #FF5000;
        }
        
        .submit-feedback {
            background: #FF5000;
            color: white;
            border: none;
            border-radius: 5px;
            padding: 8px 16px;
            font-size: 14px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .submit-feedback:hover {
            background: #FF6E36;
        }
        
        .rating-success {
            text-align: center;
            padding: 20px;
        }
        
        .rating-success h4 {
            color: #28a745;
            margin-bottom: 10px;
            font-size: 18px;
        }
        
        .rating-success p {
            color: #666;
            margin-bottom: 8px;
            line-height: 1.5;
        }
        
        .satisfaction-rating {
            animation: slideInUp 0.5s ease-out;
        }
        
        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>
<body>
    <div class="customer-service-container">
        <div class="header">
            <img class="header-avatar" src="COMPANY_LOGO.png" alt="显卡客服头像">
            <div class="header-info">
                <h3>显卡客服</h3>
                <p>在线时间: 9:00-22:00</p>
            </div>
        </div>
        
        <div class="chat-container" id="chatContainer">
            <!-- 聊天消息将在这里动态添加 -->
        </div>
        
        <div class="input-area">
            <div class="input-tools">
                <button id="voiceBtn" class="tool-btn" title="语音消息">
                    🎤 语音
                </button>
                <button id="fileBtn" class="tool-btn" title="发送文件">
                    📎 文件
                </button>
                <button id="imageBtn" class="tool-btn" title="发送图片">
                    🖼️ 图片
                </button>
                <button id="emojiToggleBtn" class="tool-btn" title="插入表情">
                    😀 表情
                </button>
                <button id="orderBtn" class="tool-btn" title="查询订单">
                    📦 订单
                </button>
            </div>
            
            <div class="input-row">
            <textarea id="messageInput" placeholder="请输入您的问题..."></textarea>
            <button id="sendButton">发送</button>
            </div>
            
            <div id="emojiPicker" class="emoji-picker" style="display:none;"></div>
            
            <input type="file" id="fileInput" accept="image/*,.pdf,.doc,.docx" style="display:none;">
            <input type="file" id="imageInput" accept="image/*" style="display:none;">
        </div>
    </div>
    
    <!-- 图片模态框 -->
    <div id="imageModal" class="image-modal">
        <button class="image-modal-close" onclick="closeImageModal()">×</button>
        <button class="image-modal-nav image-modal-prev" onclick="prevImage()">‹</button>
        <button class="image-modal-nav image-modal-next" onclick="nextImage()">›</button>
        <img id="modalImage" src="" alt="产品详情图片">
    </div>
    
    <!-- SEO 隐藏内容 -->
    <div style="position: absolute; left: -9999px; top: -9999px;">
        <h1>显卡客服系统</h1>
        <h2>RTX 5080 OC 显卡咨询服务</h2>
        <h2>RTX 5070 Ti OC 显卡咨询服务</h2>
        <h2>RTX 5060 OC 显卡咨询服务</h2>
        <p>显卡官方客服系统提供专业的显卡咨询服务，包括RTX 5080 OC、RTX 5070 Ti OC、RTX 5060 OC等显卡的性能咨询、价格查询、保修服务等。我们的客服团队专业解答显卡相关问题，为游戏玩家和电脑爱好者提供最优质的服务。</p>
        <p>显卡客服系统特色功能：在线实时咨询、产品详情展示、图片查看、语音消息、文件上传、满意度评价等。支持多种交互方式，提供全方位的显卡咨询服务。</p>
        <p>显卡产品包括：RTX 5080 OC 高性能游戏显卡、RTX 5070 Ti OC 中高端游戏显卡、RTX 5060 OC 入门级游戏显卡。所有产品均提供3年质保，全国联保服务。</p>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const chatContainer = document.getElementById('chatContainer');
            const messageInput = document.getElementById('messageInput');
            const sendButton = document.getElementById('sendButton');
            const emojiToggleBtn = document.getElementById('emojiToggleBtn');
            const emojiPicker = document.getElementById('emojiPicker');
            const voiceBtn = document.getElementById('voiceBtn');
            const fileBtn = document.getElementById('fileBtn');
            const imageBtn = document.getElementById('imageBtn');
            const orderBtn = document.getElementById('orderBtn');
            const fileInput = document.getElementById('fileInput');
            const imageInput = document.getElementById('imageInput');
            
            // 新增功能状态
            let isRecording = false;
            let recordingStartTime = null;
            
            // 对话活动跟踪
            let lastActivityTime = Date.now();
            let satisfactionTimer = null;
            let hasShownSatisfaction = false;
            
            // 显卡订单数据
            const orders = [
                {
                    id: "WL123456789",
                    status: "delivered",
                    items: ["Gallardo RTX 5080 OC 显卡"],
                    total: "¥8999.00",
                    date: "2024-01-15"
                },
                {
                    id: "WL987654321", 
                    status: "shipped",
                    items: ["White Gallardo RTX 5070 Ti OC 显卡"],
                    total: "¥5999.00",
                    date: "2024-01-20"
                },
                {
                    id: "WL555666777",
                    status: "pending",
                    items: ["Polar Fox RTX 5060 OC 显卡"],
                    total: "¥3999.00",
                    date: "2024-01-22"
                }
            ];
            
            // 显卡产品知识库
            const knowledgeBase = {
                "你好": ["您好！显卡客服为您服务，请问有什么可以帮您？😊", "有什么可以帮您的吗？👋"],
                "显卡": ["显卡是专业的显卡品牌，专注于高性能游戏显卡的研发和生产。我们提供RTX 5080、5070 Ti、5060等多款产品。🎮", "显卡以优秀的散热性能和稳定的超频能力著称，是游戏玩家的理想选择。"],
                "5080": ["Gallardo RTX 5080 OC 是我们的旗舰产品，采用最新的RTX 5080核心，8GB GDDR6X显存，支持光线追踪和DLSS 3.0技术。🎯", "RTX 5080 OC 适合4K游戏和内容创作，性能强劲，散热优秀。"],
                "5070": ["White Gallardo RTX 5070 Ti OC 是中高端游戏显卡，6GB GDDR6显存，性价比极高。🎮", "RTX 5070 Ti OC 适合2K游戏，性能稳定，价格实惠。"],
                "5060": ["Polar Fox RTX 5060 OC 是入门级游戏显卡，4GB GDDR6显存，适合1080p游戏。💻", "RTX 5060 OC 性价比极高，是预算有限玩家的最佳选择。"],
                "详情": ["点击产品卡片可以查看详细的产品参数和图片。📸", "我可以为您展示产品的详细规格和实拍图片。"],
                "图片": ["每个产品都有详细的产品图片，点击产品卡片即可查看。🖼️", "产品图片包含外观、接口、散热器等详细信息。"],
                "评价": ["感谢您的关注！对话结束后系统会自动邀请您评价服务。💬", "您的评价对我们很重要，帮助我们提供更好的服务。"],
                "价格": ["显卡价格：RTX 5080 OC ¥8999，RTX 5070 Ti OC ¥5999，RTX 5060 OC ¥3999。💰", "我们提供分期付款和多种优惠活动，详情请咨询客服。"],
                "性能": ["显卡采用先进的散热技术，确保长时间游戏稳定运行。🔥", "我们的显卡都经过严格测试，支持超频，性能强劲可靠。"],
                "保修": ["显卡提供3年质保，全国联保服务。🛡️", "如有质量问题，我们提供免费维修或更换服务。"],
                "物流": ["我们的显卡一般会在下单后1-3个工作日内发货，物流时间大约3-5天。🚚", "您可以在订单详情中查看物流信息，如有异常请告诉我们。📦"],
                "退货": ["如需退货，请在收到商品7天内申请，商品需保持完好。🔄", "退货流程：我的淘宝-已买到的宝贝-申请售后-选择退货退款。"],
                "退款": ["退款会在退货商品验收后1-3个工作日内处理完成。💰", "退款将原路返回到您的支付账户。"],
                "优惠": ["618活动期间，显卡全场8折优惠！🎉", "关注店铺可领取100元优惠券，新用户还有额外折扣。🎁"],
                "支付": ["我们支持支付宝、微信支付和银行卡支付。💳", "支付遇到问题？请检查网络或尝试更换支付方式。"],
                "质量": ["显卡都经过严格质检，采用优质元器件，确保稳定可靠。✔️", "请放心购买，所有显卡都有质量保障和3年保修。"],
                "谢谢": ["不客气，这是我们应该做的！😊", "感谢您选择显卡，祝您游戏愉快！🎉"],
                "默认": ["抱歉，我没有理解您的问题，您可以询问关于显卡的具体信息吗？🤔", "这个问题我需要查询一下，请稍等...⌛"]
            };
            
                        // 显卡常见问题快捷回复
            const quickReplies = [
                "RTX 5080性能",
                "RTX 5070 Ti价格",
                "RTX 5060性价比",
                "618优惠活动",
                "保修政策",
                "散热性能"
            ];
            
            // 显卡产品数据
            const products = [
                {
                    id: 1,
                    title: "Gallardo RTX 5080 OC 显卡",
                    price: "¥8999.00",
                    image: "PRODUCT_IMAGES/RTX5080_MAIN.jpg",
                    category: "显卡",
                    brand: "显卡品牌",
                    model: "RTX 5080 OC",
                    features: ["高性能游戏显卡", "8GB GDDR6X显存", "光线追踪技术", "DLSS 3.0支持"],
                    detailImages: [
                        "PRODUCT_IMAGES/RTX5080_DETAIL_01.jpg",
                        "PRODUCT_IMAGES/RTX5080_DETAIL_02.jpg",
                        "PRODUCT_IMAGES/RTX5080_DETAIL_03.jpg",
                        "PRODUCT_IMAGES/RTX5080_DETAIL_04.jpg",
                        "PRODUCT_IMAGES/RTX5080_DETAIL_05.jpg",
                        "PRODUCT_IMAGES/RTX5080_DETAIL_06.jpg",
                        "PRODUCT_IMAGES/RTX5080_DETAIL_07.jpg",
                        "PRODUCT_IMAGES/RTX5080_DETAIL_08.jpg",
                        "PRODUCT_IMAGES/RTX5080_DETAIL_09.jpg",
                        "PRODUCT_IMAGES/RTX5080_DETAIL_10.jpg"
                    ]
                },
                {
                    id: 2,
                    title: "White Gallardo RTX 5070 Ti OC 显卡",
                    price: "¥5999.00",
                    image: "PRODUCT_IMAGES/RTX5070TI_MAIN.jpg",
                    category: "显卡",
                    brand: "显卡品牌",
                    model: "RTX 5070 Ti OC",
                    features: ["中高端游戏显卡", "6GB GDDR6显存", "光线追踪技术", "DLSS 2.0支持"],
                    detailImages: [
                        "PRODUCT_IMAGES/RTX5070TI_DETAIL_01.jpg",
                        "PRODUCT_IMAGES/RTX5070TI_DETAIL_02.jpg",
                        "PRODUCT_IMAGES/RTX5070TI_DETAIL_03.jpg",
                        "PRODUCT_IMAGES/RTX5070TI_DETAIL_04.jpg",
                        "PRODUCT_IMAGES/RTX5070TI_DETAIL_05.jpg",
                        "PRODUCT_IMAGES/RTX5070TI_DETAIL_06.jpg",
                        "PRODUCT_IMAGES/RTX5070TI_DETAIL_07.jpg",
                        "PRODUCT_IMAGES/RTX5070TI_DETAIL_08.jpg",
                        "PRODUCT_IMAGES/RTX5070TI_DETAIL_09.jpg",
                        "PRODUCT_IMAGES/RTX5070TI_DETAIL_10.jpg"
                    ]
                },
                {
                    id: 3,
                    title: "Polar Fox RTX 5060 OC 显卡",
                    price: "¥3999.00",
                    image: "PRODUCT_IMAGES/RTX5060_MAIN.jpg",
                    category: "显卡",
                    brand: "显卡品牌",
                    model: "RTX 5060 OC",
                    features: ["入门级游戏显卡", "4GB GDDR6显存", "性价比之选", "适合1080p游戏"],
                    detailImages: [
                        "PRODUCT_IMAGES/RTX5060_DETAIL_01.jpg",
                        "PRODUCT_IMAGES/RTX5060_DETAIL_02.jpg",
                        "PRODUCT_IMAGES/RTX5060_DETAIL_03.jpg",
                        "PRODUCT_IMAGES/RTX5060_DETAIL_04.jpg",
                        "PRODUCT_IMAGES/RTX5060_DETAIL_05.jpg",
                        "PRODUCT_IMAGES/RTX5060_DETAIL_06.jpg",
                        "PRODUCT_IMAGES/RTX5060_DETAIL_07.jpg",
                        "PRODUCT_IMAGES/RTX5060_DETAIL_08.jpg",
                        "PRODUCT_IMAGES/RTX5060_DETAIL_09.jpg",
                        "PRODUCT_IMAGES/RTX5060_DETAIL_10.jpg"
                    ]
                }
            ];
            
            // 上下文记忆，最多保留5轮
            const chatHistory = [];
            
            // 初始化聊天 - 客服欢迎语
            setTimeout(() => {
                addMessage("service", "您好！显卡客服为您服务，请问有什么可以帮您？");
                showQuickReplies();
            }, 500);
            
            // 发送消息函数
            async function sendMessage() {
                const message = messageInput.value.trim();
                if (message) {
                    addMessage("customer", message);
                    updateActivityTime(); // 更新活动时间
                    // 记录到上下文
                    chatHistory.push({ role: "user", content: message });
                    if (chatHistory.length > 10) chatHistory.splice(0, chatHistory.length - 10); // 5轮=10条
                    messageInput.value = "";
                    
                    // 显示"正在输入"指示器
                    const typingIndicator = document.createElement('div');
                    typingIndicator.className = 'message';
                    typingIndicator.innerHTML = `
                        <div class="message-content service fade-in">
                            <div class="typing-indicator visible">
                                <div class="typing-dot"></div>
                                <div class="typing-dot"></div>
                                <div class="typing-dot"></div>
                            </div>
                        </div>
                    `;
                    chatContainer.appendChild(typingIndicator);
                    chatContainer.scrollTop = chatContainer.scrollHeight;
                    
                    setTimeout(async () => {
                        const { reply, isDefault } = getAutoReply(message);
                        let finalReply = reply;
                        let isAI = false;
                        if (isDefault) {
                            // 用 DeepSeek API 获取智能回复
                            finalReply = await fetchDeepSeekReply(chatHistory);
                            isAI = true;
                        }
                        chatContainer.removeChild(typingIndicator);
                        addMessage("service", finalReply, isAI);
                        updateActivityTime(); // 更新活动时间
                        if (isAI) {
                            chatHistory.push({ role: "assistant", content: finalReply });
                            if (chatHistory.length > 10) chatHistory.splice(0, chatHistory.length - 10);
                        }
                        if (message.includes("推荐") || message.includes("显卡") || message.includes("买什么") || message.includes("显卡")) {
                            setTimeout(() => {
                                showRecommendedProducts();
                            }, 800);
                        }
                        showQuickReplies();
                    }, 1500);
                }
            }
            
            // 添加消息到聊天窗口
            function addMessage(sender, content, isAI = false, type = 'text') {
                const now = new Date();
                const timeString = `${now.getHours()}:${now.getMinutes().toString().padStart(2, '0')}`;
                
                const messageElement = document.createElement('div');
                messageElement.className = 'message';
                // 头像
                let avatarUrl = '';
                if (sender === 'customer') {
                    avatarUrl = 'https://avatars.githubusercontent.com/u/583231?v=4'; // 用户默认头像（可用）
                } else {
                    avatarUrl = 'COMPANY_LOGO.png'; // 显卡客服头像
                }
                // 气泡样式
                let bubbleClass = `message-content ${sender} fade-in`;
                let label = '';
                if (sender === 'service' && isAI) {
                    bubbleClass += ' ai-reply';
                    label = '<span class="ai-label">AI智能客服</span>';
                }
                
                let contentHtml = content;
                if (type === 'voice') {
                    contentHtml = `
                        <div class="voice-message">
                            <span class="voice-icon">🔊</span>
                            <span class="voice-duration">0:15</span>
                        </div>
                    `;
                } else if (type === 'file') {
                    contentHtml = `
                        <div class="file-upload">
                            <span class="file-icon">📎</span>
                            <span class="upload-text">${content}</span>
                        </div>
                    `;
                } else if (type === 'image') {
                    contentHtml = `<img src="${content}" style="max-width: 200px; border-radius: 5px;" alt="图片">`;
                }
                
                messageElement.innerHTML = `
                    <div class="message-time"><span>${timeString}</span></div>
                    <div class="message-row ${sender}">
                        <img class="avatar" src="${avatarUrl}" alt="头像">
                        <div class="${bubbleClass}">${label}${contentHtml}</div>
                    </div>
                    <div class="message-actions">
                        <button class="action-btn" onclick="copyMessage(this)">复制</button>
                        <button class="action-btn" onclick="deleteMessage(this)">删除</button>
                    </div>
                `;
                
                chatContainer.appendChild(messageElement);
                chatContainer.scrollTop = chatContainer.scrollHeight;
            }
            
            // 复制消息
            window.copyMessage = function(btn) {
                const messageContent = btn.closest('.message').querySelector('.message-content');
                const text = messageContent.textContent || messageContent.innerText;
                navigator.clipboard.writeText(text).then(() => {
                    showNotification('消息已复制到剪贴板', 'success');
                });
            };
            
            // 删除消息
            window.deleteMessage = function(btn) {
                if (confirm('确定要删除这条消息吗？')) {
                    btn.closest('.message').remove();
                }
            };
            
            // 更新对话活动时间
            function updateActivityTime() {
                lastActivityTime = Date.now();
                
                // 清除之前的满意度计时器
                if (satisfactionTimer) {
                    clearTimeout(satisfactionTimer);
                }
                
                // 如果还没显示过满意度评价，设置新的计时器
                if (!hasShownSatisfaction) {
                    satisfactionTimer = setTimeout(() => {
                        console.log('5分钟无活动，显示满意度评价');
                        showSatisfactionRating();
                        hasShownSatisfaction = true;
                    }, 5 * 60 * 1000); // 5分钟
                }
            }
            
            // 显示通知
            function showNotification(message, type = 'success') {
                const notification = document.createElement('div');
                notification.className = `notification ${type}`;
                notification.textContent = message;
                document.body.appendChild(notification);
                
                setTimeout(() => {
                    notification.classList.add('show');
                }, 100);
                
                setTimeout(() => {
                    notification.classList.remove('show');
                    setTimeout(() => {
                        document.body.removeChild(notification);
                    }, 300);
                }, 3000);
            }
            
            // 获取自动回复
            function getAutoReply(message) {
                for (const keyword in knowledgeBase) {
                    if (message.includes(keyword)) {
                        const replies = knowledgeBase[keyword];
                        return { reply: replies[Math.floor(Math.random() * replies.length)], isDefault: false };
                    }
                }
                if (message.includes("商品") || message.includes("产品")) {
                    return { reply: "您想了解哪款商品呢？我可以为您详细介绍。", isDefault: false };
                }
                const defaultReplies = knowledgeBase["默认"];
                return { reply: defaultReplies[Math.floor(Math.random() * defaultReplies.length)], isDefault: true };
            }
            
            // 调用 DeepSeek API 获取智能回复（中文），带上下文
            async function fetchDeepSeekReply(history) {
                const apiKey = "YOUR_DEEPSEEK_API_KEY"; // 请替换为您的API密钥
                const url = "https://api.deepseek.com/v1/chat/completions";
                const headers = {
                    "Content-Type": "application/json",
                    "Authorization": `Bearer ${apiKey}`
                };
                // 构造 messages，前置 system prompt
                const messages = [
                    { role: "system", content: "你是显卡的专业客服，专门回答关于显卡产品的问题。是专业的显卡品牌，主要产品包括RTX 5080 OC、RTX 5070 Ti OC、RTX 5060 OC等。请用简体中文专业、友好地回复用户问题。" },
                    ...history.slice(-10) // 最多5轮
                ];
                const body = JSON.stringify({
                    model: "deepseek-chat",
                    messages,
                    temperature: 0.7
                });
                try {
                    const response = await fetch(url, {
                        method: "POST",
                        headers,
                        body
                    });
                    if (!response.ok) {
                        return "抱歉，AI客服暂时无法回复您的问题。";
                    }
                    const data = await response.json();
                    if (data && data.choices && data.choices[0] && data.choices[0].message && data.choices[0].message.content) {
                        return data.choices[0].message.content.trim();
                    }
                    return "抱歉，AI客服暂时无法回复您的问题。";
                } catch (e) {
                    return "抱歉，AI客服暂时无法回复您的问题。";
                }
            }
            
            // 显示快捷回复按钮
            function showQuickReplies() {
                const quickRepliesContainer = document.createElement('div');
                quickRepliesContainer.className = 'quick-replies';
                
                quickReplies.forEach(reply => {
                    const button = document.createElement('div');
                    button.className = 'quick-reply';
                    button.textContent = reply;
                    button.addEventListener('click', () => {
                        addMessage("customer", reply);
                        updateActivityTime(); // 更新活动时间
                        // 模拟客服回复
                        setTimeout(() => {
                            const response = getAutoReply(reply).reply;
                            addMessage("service", response);
                            updateActivityTime(); // 更新活动时间
                            // 如果是性能相关问题，显示详细参数
                            if (reply.includes("性能")) {
                                setTimeout(() => {
                                    addMessage("service", "显卡采用先进的散热技术，确保长时间游戏稳定运行。所有显卡都经过严格测试，支持超频，性能强劲可靠。");
                                    updateActivityTime(); // 更新活动时间
                                }, 800);
                            }
                            showQuickReplies();
                        }, 1000);
                    });
                    quickRepliesContainer.appendChild(button);
                });
                // 先移除旧的快捷回复（如果有）
                const oldQuickReplies = document.querySelector('.quick-replies');
                if (oldQuickReplies) {
                    chatContainer.removeChild(oldQuickReplies);
                }
                chatContainer.appendChild(quickRepliesContainer);
                chatContainer.scrollTop = chatContainer.scrollHeight;
            }
            
            // 显示推荐商品
            function showRecommendedProducts() {
                const productsContainer = document.createElement('div');
                productsContainer.className = 'message';
                // 横向滚动区
                const scrollContainer = document.createElement('div');
                scrollContainer.className = 'product-scroll-container';
                const scrollInner = document.createElement('div');
                scrollInner.className = 'product-scroll-inner';
                // 商品卡片
                products.forEach(product => {
                    const card = document.createElement('div');
                    card.className = 'product-card';
                    card.onclick = () => showProductDetails(product);
                    card.innerHTML = `
                        <img src="${product.image}" alt="${product.title}">
                        <div class="product-info">
                            <div class="product-title">${product.title}</div>
                            <div class="product-price">${product.price}</div>
                        </div>
                    `;
                    scrollInner.appendChild(card);
                });
                scrollContainer.appendChild(scrollInner);
                // 小圆点指示器
                const dotsCount = Math.max(1, Math.ceil(products.length / 2));
                const indicator = document.createElement('div');
                indicator.className = 'scroll-indicator';
                const dots = document.createElement('div');
                dots.className = 'scroll-dots';
                for (let i = 0; i < dotsCount; i++) {
                    const dot = document.createElement('span');
                    dot.className = 'scroll-dot' + (i === 0 ? ' active' : '');
                    dots.appendChild(dot);
                }
                indicator.appendChild(dots);
                scrollContainer.appendChild(indicator);
                // 滚动事件：高亮当前页
                scrollContainer.addEventListener('scroll', function() {
                    const scrollLeft = scrollContainer.scrollLeft;
                    const pageWidth = 200; // 180+gap
                    const page = Math.round(scrollLeft / pageWidth);
                    Array.from(dots.children).forEach((dot, idx) => {
                        dot.classList.toggle('active', idx === page);
                    });
                });
                // 外层消息内容
                productsContainer.innerHTML = `
                    <div class="message-content service">
                        <p>为您推荐以下显卡产品：</p>
                    </div>
                `;
                productsContainer.querySelector('.message-content').appendChild(scrollContainer);
                chatContainer.appendChild(productsContainer);
                chatContainer.scrollTop = chatContainer.scrollHeight;
            }
            
            // 显示产品详情图片
            function showProductDetails(product) {
                const detailContainer = document.createElement('div');
                detailContainer.className = 'message';
                detailContainer.innerHTML = `
                    <div class="message-content service">
                        <p><strong>${product.title}</strong> 详细参数：</p>
                        <div class="detail-images-container">
                            <div class="detail-images-header">
                                📸 产品详情图片 (${product.detailImages.length}张)
                            </div>
                            <div class="detail-images-grid">
                                ${product.detailImages.map((img, index) => `
                                    <div class="detail-image-item" onclick="openImageModal('${img}', ${index}, ${product.id})">
                                        <img src="${img}" alt="详情图片${index + 1}">
                                        <div class="detail-image-overlay">图片${index + 1}</div>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    </div>
                `;
                chatContainer.appendChild(detailContainer);
                chatContainer.scrollTop = chatContainer.scrollHeight;
            }
            
            // 显示订单信息
            function showOrders() {
                orders.forEach(order => {
                    const orderElement = document.createElement('div');
                    orderElement.className = 'message';
                    orderElement.innerHTML = `
                        <div class="message-content service">
                            <div class="order-info">
                                <div class="order-title">
                                    订单号：${order.id}
                                    <span class="order-status ${order.status}">
                                        ${getStatusText(order.status)}
                                    </span>
                                </div>
                                <div class="order-details">
                                    <div>商品：${order.items.join('、')}</div>
                                    <div>总金额：${order.total}</div>
                                    <div>下单时间：${order.date}</div>
                                </div>
                            </div>
                        </div>
                    `;
                    chatContainer.appendChild(orderElement);
                });
                chatContainer.scrollTop = chatContainer.scrollHeight;
            }
            
            // 获取订单状态文本
            function getStatusText(status) {
                const statusMap = {
                    'pending': '待发货',
                    'shipped': '已发货',
                    'delivered': '已送达',
                    'refund': '退款中'
                };
                return statusMap[status] || '未知状态';
            }
            
            // 显示满意度评价
            function showSatisfactionRating() {
                // 防止重复显示
                if (document.querySelector('.satisfaction-rating')) {
                    return;
                }
                
                const ratingElement = document.createElement('div');
                ratingElement.className = 'message satisfaction-rating';
                ratingElement.innerHTML = `
                    <div class="message-content service">
                        <div class="rating-header">
                            <h4>💬 服务评价</h4>
                            <p>感谢您使用显卡客服，请为本次服务评分：</p>
                        </div>
                        <div class="rating-container">
                            <span class="star" data-rating="1">⭐</span>
                            <span class="star" data-rating="2">⭐</span>
                            <span class="star" data-rating="3">⭐</span>
                            <span class="star" data-rating="4">⭐</span>
                            <span class="star" data-rating="5">⭐</span>
                            <span class="satisfaction-text">点击星星评分</span>
                        </div>
                        <div class="rating-feedback" style="display: none;">
                            <textarea placeholder="请留下您的宝贵意见（可选）..." maxlength="200"></textarea>
                            <button class="submit-feedback">提交评价</button>
                        </div>
                    </div>
                `;
                chatContainer.appendChild(ratingElement);
                chatContainer.scrollTop = chatContainer.scrollHeight;
                
                // 绑定评分事件
                const stars = ratingElement.querySelectorAll('.star');
                const feedbackDiv = ratingElement.querySelector('.rating-feedback');
                const submitBtn = ratingElement.querySelector('.submit-feedback');
                
                stars.forEach(star => {
                    star.addEventListener('click', function() {
                        const rating = this.dataset.rating;
                        stars.forEach(s => s.classList.remove('active'));
                        for (let i = 0; i < rating; i++) {
                            stars[i].classList.add('active');
                        }
                        const text = ratingElement.querySelector('.satisfaction-text');
                        text.textContent = `感谢您的${rating}星评价！`;
                        
                        // 显示反馈输入框
                        feedbackDiv.style.display = 'block';
                        
                        // 保存评分
                        window.currentRating = rating;
                    });
                });
                
                // 提交评价
                submitBtn.addEventListener('click', function() {
                    const feedback = feedbackDiv.querySelector('textarea').value;
                    const rating = window.currentRating || 5;
                    
                    // 这里可以发送评价数据到服务器
                    console.log('评价提交:', { rating, feedback });
                    
                    // 显示感谢信息
                    ratingElement.innerHTML = `
                        <div class="message-content service">
                            <div class="rating-success">
                                <h4>🎉 感谢您的评价！</h4>
                                <p>您的${rating}星评价对我们很重要，我们会继续努力提供更好的服务。</p>
                                <p>如有其他问题，随时联系我们！</p>
                            </div>
                        </div>
                    `;
                    
                    showNotification('评价提交成功，感谢您的反馈！', 'success');
                });
            }
            
            // Emoji 列表
            const emojiList = ["😂", "😍", "👍", "😊", "😭", "😡", "👏", "🎉", "🥰", "🤔", "😎", "😅", "🙌", "💰", "💳", "📦", "🚚", "✔️", "🎁", "🔄", "⌛", "👋"];
            
            // 渲染 Emoji 面板
            function renderEmojiPicker() {
                emojiPicker.innerHTML = '';
                emojiList.forEach(emoji => {
                    const btn = document.createElement('button');
                    btn.className = 'emoji-btn';
                    btn.type = 'button';
                    btn.textContent = emoji;
                    btn.addEventListener('click', () => {
                        insertAtCursor(messageInput, emoji);
                        emojiPicker.style.display = 'none';
                        messageInput.focus();
                    });
                    emojiPicker.appendChild(btn);
                });
            }
            
            // 插入表情到光标处
            function insertAtCursor(input, text) {
                const start = input.selectionStart;
                const end = input.selectionEnd;
                const value = input.value;
                input.value = value.substring(0, start) + text + value.substring(end);
                input.selectionStart = input.selectionEnd = start + text.length;
            }
            
            // 语音录制功能
            voiceBtn.addEventListener('click', function() {
                if (!isRecording) {
                    // 开始录音
                    isRecording = true;
                    recordingStartTime = Date.now();
                    voiceBtn.innerHTML = '<div class="voice-recording">⏹️</div>';
                    voiceBtn.classList.add('active');
                    showNotification('开始录音，再次点击停止', 'warning');
                } else {
                    // 停止录音
                    isRecording = false;
                    const duration = Math.floor((Date.now() - recordingStartTime) / 1000);
                    voiceBtn.innerHTML = '🎤 语音';
                    voiceBtn.classList.remove('active');
                    addMessage('customer', '', false, 'voice');
                    updateActivityTime(); // 更新活动时间
                    showNotification(`录音完成，时长 ${duration} 秒`, 'success');
                }
            });
            
            // 文件上传功能
            fileBtn.addEventListener('click', function() {
                fileInput.click();
            });
            
            fileInput.addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (file) {
                    addMessage('customer', file.name, false, 'file');
                    updateActivityTime(); // 更新活动时间
                    showNotification('文件上传成功', 'success');
                }
            });
            
            // 图片上传功能
            imageBtn.addEventListener('click', function() {
                imageInput.click();
            });
            
            imageInput.addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        addMessage('customer', e.target.result, false, 'image');
                        updateActivityTime(); // 更新活动时间
                        showNotification('图片上传成功', 'success');
                    };
                    reader.readAsDataURL(file);
                }
            });
            
            // 订单查询功能
            orderBtn.addEventListener('click', function() {
                addMessage('customer', '查询我的订单');
                updateActivityTime(); // 更新活动时间
                setTimeout(() => {
                    addMessage('service', '为您查询订单信息：');
                    updateActivityTime(); // 更新活动时间
                    showOrders();
                }, 1000);
            });
            
            // 事件：点击😀按钮
            emojiToggleBtn.addEventListener('click', function(e) {
                e.stopPropagation();
                if (emojiPicker.style.display === 'none') {
                    renderEmojiPicker();
                    emojiPicker.style.display = 'flex';
                } else {
                    emojiPicker.style.display = 'none';
                }
            });
            // 点击页面其它地方关闭 Emoji 面板
            document.addEventListener('click', function(e) {
                if (!emojiPicker.contains(e.target) && e.target !== emojiToggleBtn) {
                    emojiPicker.style.display = 'none';
                }
            });
            
            // 事件监听
            sendButton.addEventListener('click', sendMessage);
            
            messageInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    sendMessage();
                }
            });
            
            // 初始化对话活动时间
            updateActivityTime();
            
            // 添加测试评价功能（开发用，可以删除）
            window.testRating = function() {
                showSatisfactionRating();
            };
        });
        
        // 图片模态框相关变量
        let currentImages = [];
        let currentImageIndex = 0;
        let currentProductId = 0;
        
        // 打开图片模态框
        window.openImageModal = function(imageSrc, index, productId) {
            const product = products.find(p => p.id === productId);
            if (product) {
                currentImages = product.detailImages;
                currentImageIndex = index;
                currentProductId = productId;
                
                const modal = document.getElementById('imageModal');
                const modalImage = document.getElementById('modalImage');
                modalImage.src = imageSrc;
                modal.classList.add('show');
            }
        };
        
        // 关闭图片模态框
        window.closeImageModal = function() {
            const modal = document.getElementById('imageModal');
            modal.classList.remove('show');
        };
        
        // 上一张图片
        window.prevImage = function() {
            if (currentImages.length > 0) {
                currentImageIndex = (currentImageIndex - 1 + currentImages.length) % currentImages.length;
                const modalImage = document.getElementById('modalImage');
                modalImage.src = currentImages[currentImageIndex];
            }
        };
        
        // 下一张图片
        window.nextImage = function() {
            if (currentImages.length > 0) {
                currentImageIndex = (currentImageIndex + 1) % currentImages.length;
                const modalImage = document.getElementById('modalImage');
                modalImage.src = currentImages[currentImageIndex];
            }
        };
        
        // 点击模态框背景关闭
        document.getElementById('imageModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeImageModal();
            }
        });
        
        // ESC键关闭模态框
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeImageModal();
            }
        });
        
        // SEO 优化：页面加载完成后的处理
        window.addEventListener('load', function() {
            // 发送页面浏览数据（可选）
            console.log('显卡客服系统页面加载完成');
            
            // 预加载重要图片
            const preloadImages = [
                'COMPANY_LOGO.png',
                'PRODUCT_IMAGES/RTX5080_MAIN.jpg',
                'PRODUCT_IMAGES/RTX5070TI_MAIN.jpg',
                'PRODUCT_IMAGES/RTX5060_MAIN.jpg'
            ];
            
            preloadImages.forEach(src => {
                const img = new Image();
                img.src = src;
            });
        });
        
        // 添加结构化数据更新
        function updateStructuredData() {
            // 这里可以动态更新结构化数据
            console.log('结构化数据已更新');
        }
    </script>
</body>
</html>